!function(){var n={3099:function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},6077:function(t,e,n){var r=n(111);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},1223:function(t,e,n){var r=n(5112),o=n(30),n=n(3070),i=r("unscopables"),a=Array.prototype;null==a[i]&&n.f(a,i,{configurable:!0,value:o(null)}),t.exports=function(t){a[i][t]=!0}},1530:function(t,e,n){"use strict";var r=n(8710).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},5787:function(t){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},9670:function(t,e,n){var r=n(111);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},1285:function(t,e,n){"use strict";var a=n(7908),c=n(1400),u=n(7466);t.exports=function(t){for(var e=a(this),n=u(e.length),r=arguments.length,o=c(1<r?arguments[1]:void 0,n),r=2<r?arguments[2]:void 0,i=void 0===r?n:c(r,n);o<i;)e[o++]=t;return e}},8533:function(t,e,n){"use strict";var r=n(2092).forEach,o=n(9341),n=n(9207),o=o("forEach"),n=n("forEach");t.exports=o&&n?[].forEach:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0)}},8457:function(t,e,n){"use strict";var p=n(9974),y=n(7908),d=n(3411),g=n(7659),v=n(7466),b=n(6135),m=n(1246);t.exports=function(t){var e,n,r,o,i,a,c=y(t),u="function"==typeof this?this:Array,s=arguments.length,f=1<s?arguments[1]:void 0,l=void 0!==f,t=m(c),h=0;if(l&&(f=p(f,2<s?arguments[2]:void 0,2)),null==t||u==Array&&g(t))for(n=new u(e=v(c.length));h<e;h++)a=l?f(c[h],h):c[h],b(n,h,a);else for(i=(o=t.call(c)).next,n=new u;!(r=i.call(o)).done;h++)a=l?d(o,f,[r.value,h],!0):r.value,b(n,h,a);return n.length=h,n}},1318:function(t,e,n){var u=n(5656),s=n(7466),f=n(1400),n=function(c){return function(t,e,n){var r,o=u(t),i=s(o.length),a=f(n,i);if(c&&e!=e){for(;a<i;)if((r=o[a++])!=r)return!0}else for(;a<i;a++)if((c||a in o)&&o[a]===e)return c||a||0;return!c&&-1}};t.exports={includes:n(!0),indexOf:n(!1)}},2092:function(t,e,n){var S=n(9974),w=n(8361),x=n(7908),O=n(7466),R=n(5417),E=[].push,n=function(h){var p=1==h,y=2==h,d=3==h,g=4==h,v=6==h,b=7==h,m=5==h||v;return function(t,e,n,r){for(var o,i,a=x(t),c=w(a),u=S(e,n,3),s=O(c.length),f=0,r=r||R,l=p?r(t,s):y||b?r(t,0):void 0;f<s;f++)if((m||f in c)&&(i=u(o=c[f],f,a),h))if(p)l[f]=i;else if(i)switch(h){case 3:return!0;case 5:return o;case 6:return f;case 2:E.call(l,o)}else switch(h){case 4:return!1;case 7:E.call(l,o)}return v?-1:d||g?g:l}};t.exports={forEach:n(0),map:n(1),filter:n(2),some:n(3),every:n(4),find:n(5),findIndex:n(6),filterOut:n(7)}},1194:function(t,e,n){var r=n(7293),o=n(5112),i=n(7392),a=o("species");t.exports=function(e){return 51<=i||!r(function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},9341:function(t,e,n){"use strict";var r=n(7293);t.exports=function(t,e){var n=[][t];return!!n&&r(function(){n.call(null,e||function(){throw 1},1)})}},9207:function(t,e,n){function a(t){throw t}var c=n(9781),u=n(7293),s=n(6656),f=Object.defineProperty,l={};t.exports=function(t,e){if(s(l,t))return l[t];var n=[][t],r=!!s(e=e||{},"ACCESSORS")&&e.ACCESSORS,o=s(e,0)?e[0]:a,i=s(e,1)?e[1]:void 0;return l[t]=!!n&&!u(function(){if(r&&!c)return!0;var t={length:-1};r?f(t,1,{enumerable:!0,get:a}):t[1]=1,n.call(t,o,i)})}},3671:function(t,e,n){var f=n(3099),l=n(7908),h=n(8361),p=n(7466),n=function(s){return function(t,e,n,r){f(e);var o=l(t),i=h(o),a=p(o.length),c=s?a-1:0,u=s?-1:1;if(n<2)for(;;){if(c in i){r=i[c],c+=u;break}if(c+=u,s?c<0:a<=c)throw TypeError("Reduce of empty array with no initial value")}for(;s?0<=c:c<a;c+=u)c in i&&(r=e(r,i[c],c,o));return r}};t.exports={left:n(!1),right:n(!0)}},5417:function(t,e,n){var r=n(111),o=n(3157),i=n(5112)("species");t.exports=function(t,e){var n;return o(t)&&("function"==typeof(n=t.constructor)&&(n===Array||o(n.prototype))||r(n)&&null===(n=n[i]))&&(n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},3411:function(t,e,n){var o=n(9670),i=n(9212);t.exports=function(e,t,n,r){try{return r?t(o(n)[0],n[1]):t(n)}catch(t){throw i(e),t}}},7072:function(t,e,n){var o=n(5112)("iterator"),i=!1;try{var r=0,a={next:function(){return{done:!!r++}},return:function(){i=!0}};a[o]=function(){return this},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var r={};r[o]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}},4326:function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},648:function(t,e,n){var r=n(1694),o=n(4326),i=n(5112)("toStringTag"),a="Arguments"==o(function(){return arguments}());t.exports=r?o:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(t=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?t:a?o(e):"Object"==(t=o(e))&&"function"==typeof e.callee?"Arguments":t}},4092:function(t,e,n){"use strict";var a=n(9670),c=n(3099);t.exports=function(){for(var t,e=a(this),n=c(e.delete),r=!0,o=0,i=arguments.length;o<i;o++)t=n.call(e,arguments[o]),r=r&&t;return!!r}},5631:function(t,e,n){"use strict";var s=n(3070).f,f=n(30),l=n(2248),h=n(9974),p=n(5787),y=n(408),a=n(654),c=n(6340),d=n(9781),g=n(2423).fastKey,n=n(9909),v=n.set,b=n.getterFor;t.exports={getConstructor:function(t,n,r,o){function i(t,e,n){var r,o=c(t),i=u(t,e);return i?i.value=n:(o.last=i={index:r=g(e,!0),key:e,value:n,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=i),n&&(n.next=i),d?o.size++:t.size++,"F"!==r&&(o.index[r]=i)),t}var a=t(function(t,e){p(t,a,n),v(t,{type:n,index:f(null),first:void 0,last:void 0,size:0}),d||(t.size=0),null!=e&&y(e,t[o],{that:t,AS_ENTRIES:r})}),c=b(n),u=function(t,e){var n,r=c(t),t=g(e);if("F"!==t)return r.index[t];for(n=r.first;n;n=n.next)if(n.key==e)return n};return l(a.prototype,{clear:function(){for(var t=c(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,d?t.size=0:this.size=0},delete:function(t){var e,n=c(this),r=u(this,t);return r&&(e=r.next,t=r.previous,delete n.index[r.index],r.removed=!0,t&&(t.next=e),e&&(e.previous=t),n.first==r&&(n.first=e),n.last==r&&(n.last=t),d?n.size--:this.size--),!!r},forEach:function(t){for(var e,n=c(this),r=h(t,1<arguments.length?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!u(this,t)}}),l(a.prototype,r?{get:function(t){t=u(this,t);return t&&t.value},set:function(t,e){return i(this,0===t?0:t,e)}}:{add:function(t){return i(this,t=0===t?0:t,t)}}),d&&s(a.prototype,"size",{get:function(){return c(this).size}}),a},setStrong:function(t,e,n){var r=e+" Iterator",o=b(e),i=b(r);a(t,e,function(t,e){v(this,{type:r,target:t,state:o(t),kind:e,last:void 0})},function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:t.target=void 0,done:!0}},n?"entries":"values",!n,!0),c(e)}}},7710:function(t,e,n){"use strict";var g=n(2109),v=n(7854),b=n(4705),m=n(1320),S=n(2423),w=n(408),x=n(5787),O=n(111),R=n(7293),E=n(7072),M=n(8003),j=n(9587);t.exports=function(n,t,e){function r(t){var n=p[t];m(p,t,"add"==t?function(t){return n.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(f&&!O(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return f&&!O(t)?void 0:n.call(this,0===t?0:t)}:"has"==t?function(t){return!(f&&!O(t))&&n.call(this,0===t?0:t)}:function(t,e){return n.call(this,0===t?0:t,e),this})}var o,i,a,c,u,s=-1!==n.indexOf("Map"),f=-1!==n.indexOf("Weak"),l=s?"set":"add",h=v[n],p=h&&h.prototype,y=h,d={};return b(n,"function"!=typeof h||!(f||p.forEach&&!R(function(){(new h).entries().next()})))?(y=e.getConstructor(t,n,s,l),S.REQUIRED=!0):b(n,!0)&&(i=(o=new y)[l](f?{}:-0,1)!=o,a=R(function(){o.has(1)}),c=E(function(t){new h(t)}),u=!f&&R(function(){for(var t=new h,e=5;e--;)t[l](e,e);return!t.has(-0)}),c||(((y=t(function(t,e){x(t,y,n);t=j(new h,t,y);return null!=e&&w(e,t[l],{that:t,AS_ENTRIES:s}),t})).prototype=p).constructor=y),(a||u)&&(r("delete"),r("has"),s&&r("get")),(u||i)&&r(l),f&&p.clear&&delete p.clear),d[n]=y,g({global:!0,forced:y!=h},d),M(y,n),f||e.setStrong(y,n,s),y}},9920:function(t,e,n){var c=n(6656),u=n(3887),s=n(1236),f=n(3070);t.exports=function(t,e){for(var n=u(e),r=f.f,o=s.f,i=0;i<n.length;i++){var a=n[i];c(t,a)||r(t,a,o(e,a))}}},4964:function(t,e,n){var r=n(5112)("match");t.exports=function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[r]=!1,"/./"[e](n)}catch(t){}}return!1}},8544:function(t,e,n){n=n(7293);t.exports=!n(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},4994:function(t,e,n){"use strict";function r(){return this}var o=n(3383).IteratorPrototype,i=n(30),a=n(9114),c=n(8003),u=n(7497);t.exports=function(t,e,n){e+=" Iterator";return t.prototype=i(o,{next:a(1,n)}),c(t,e,!1,!0),u[e]=r,t}},8880:function(t,e,n){var r=n(9781),o=n(3070),i=n(9114);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:function(t,e,n){"use strict";var r=n(7593),o=n(3070),i=n(9114);t.exports=function(t,e,n){e=r(e);e in t?o.f(t,e,i(0,n)):t[e]=n}},654:function(t,e,n){"use strict";function d(){return this}var g=n(2109),v=n(4994),b=n(9518),m=n(7674),S=n(8003),w=n(8880),x=n(1320),r=n(5112),O=n(1913),R=n(7497),n=n(3383),E=n.IteratorPrototype,M=n.BUGGY_SAFARI_ITERATORS,j=r("iterator"),I="values",T="entries";t.exports=function(t,e,n,r,o,i,a){v(n,e,r);function c(t){if(t===o&&y)return y;if(!M&&t in h)return h[t];switch(t){case"keys":case I:case T:return function(){return new n(this,t)}}return function(){return new n(this)}}var u,s,f=e+" Iterator",l=!1,h=t.prototype,p=h[j]||h["@@iterator"]||o&&h[o],y=!M&&p||c(o),r="Array"==e&&h.entries||p;if(r&&(t=b(r.call(new t)),E!==Object.prototype&&t.next&&(O||b(t)===E||(m?m(t,E):"function"!=typeof t[j]&&w(t,j,d)),S(t,f,!0,!0),O&&(R[f]=d))),o==I&&p&&p.name!==I&&(l=!0,y=function(){return p.call(this)}),O&&!a||h[j]===y||w(h,j,y),R[e]=y,o)if(u={values:c(I),keys:i?y:c("keys"),entries:c(T)},a)for(s in u)!M&&!l&&s in h||x(h,s,u[s]);else g({target:e,proto:!0,forced:M||l},u);return u}},9781:function(t,e,n){n=n(7293);t.exports=!n(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},317:function(t,e,n){var r=n(7854),n=n(111),o=r.document,i=n(o)&&n(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},8324:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},5268:function(t,e,n){var r=n(4326),n=n(7854);t.exports="process"==r(n.process)},8113:function(t,e,n){n=n(5005);t.exports=n("navigator","userAgent")||""},7392:function(t,e,n){var r,o,i=n(7854),n=n(8113),i=i.process,i=i&&i.versions,i=i&&i.v8;i?o=(r=i.split("."))[0]+r[1]:n&&(!(r=n.match(/Edge\/(\d+)/))||74<=r[1])&&(r=n.match(/Chrome\/(\d+)/))&&(o=r[1]),t.exports=o&&+o},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,n){var s=n(7854),f=n(1236).f,l=n(8880),h=n(1320),p=n(3505),y=n(9920),d=n(4705);t.exports=function(t,e){var n,r,o,i=t.target,a=t.global,c=t.stat,u=a?s:c?s[i]||p(i,{}):(s[i]||{}).prototype;if(u)for(n in e){if(r=e[n],o=t.noTargetGet?(o=f(u,n))&&o.value:u[n],!d(a?n:i+(c?".":"#")+n,t.forced)&&void 0!==o){if(typeof r==typeof o)continue;y(r,o)}(t.sham||o&&o.sham)&&l(r,"sham",!0),h(u,n,r,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},7007:function(t,e,n){"use strict";n(4916);var s=n(1320),f=n(7293),l=n(5112),h=n(2261),p=n(8880),y=l("species"),d=!f(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),g="$0"==="a".replace(/./,"$0"),n=l("replace"),v=!!/./[n]&&""===/./[n]("a","$0"),b=!f(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};t="ab".split(t);return 2!==t.length||"a"!==t[0]||"b"!==t[1]});t.exports=function(n,t,e,r){var i,o,a=l(n),c=!f(function(){var t={};return t[a]=function(){return 7},7!=""[n](t)}),u=c&&!f(function(){var t=!1,e=/a/;return"split"===n&&((e={constructor:{}}).constructor[y]=function(){return e},e.flags="",e[a]=/./[a]),e.exec=function(){return t=!0,null},e[a](""),!t});c&&u&&("replace"!==n||d&&g&&!v)&&("split"!==n||b)||(i=/./[a],e=(u=e(a,""[n],function(t,e,n,r,o){return e.exec===h?c&&!o?{done:!0,value:i.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}},{REPLACE_KEEPS_$0:g,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:v}))[0],o=u[1],s(String.prototype,n,e),s(RegExp.prototype,a,2==t?function(t,e){return o.call(t,this,e)}:function(t){return o.call(t,this)})),r&&p(RegExp.prototype[a],"sham",!0)}},6677:function(t,e,n){n=n(7293);t.exports=!n(function(){return Object.isExtensible(Object.preventExtensions({}))})},9974:function(t,e,n){var i=n(3099);t.exports=function(r,o,t){if(i(r),void 0===o)return r;switch(t){case 0:return function(){return r.call(o)};case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)}}return function(){return r.apply(o,arguments)}}},5005:function(t,e,n){function r(t){return"function"==typeof t?t:void 0}var o=n(857),i=n(7854);t.exports=function(t,e){return arguments.length<2?r(o[t])||r(i[t]):o[t]&&o[t][e]||i[t]&&i[t][e]}},1246:function(t,e,n){var r=n(648),o=n(7497),i=n(5112)("iterator");t.exports=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},8554:function(t,e,n){var r=n(9670),o=n(1246);t.exports=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return r(e.call(t))}},4647:function(t,e,n){var r=n(1913),n=n(8554);t.exports=r?n:function(t){return Map.prototype.entries.call(t)}},647:function(t,e,n){var r=n(7908),h=Math.floor,o="".replace,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,y=/\$([$&'`]|\d\d?)/g;t.exports=function(i,a,c,u,s,t){var f=c+i.length,l=u.length,e=y;return void 0!==s&&(s=r(s),e=p),o.call(t,e,function(t,e){var n;switch(e.charAt(0)){case"$":return"$";case"&":return i;case"`":return a.slice(0,c);case"'":return a.slice(f);case"<":n=s[e.slice(1,-1)];break;default:var r=+e;if(0==r)return t;if(l<r){var o=h(r/10);return 0===o?t:o<=l?void 0===u[o-1]?e.charAt(1):u[o-1]+e.charAt(1):t}n=u[r-1]}return void 0===n?"":n})}},7854:function(t,e,n){function r(t){return t&&t.Math==Math&&t}t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},6656:function(t){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},3501:function(t){t.exports={}},490:function(t,e,n){n=n(5005);t.exports=n("document","documentElement")},4664:function(t,e,n){var r=n(9781),o=n(7293),i=n(317);t.exports=!r&&!o(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},8361:function(t,e,n){var r=n(7293),o=n(4326),i="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},9587:function(t,e,n){var i=n(111),a=n(7674);t.exports=function(t,e,n){var r,o;return a&&"function"==typeof(r=e.constructor)&&r!==n&&i(o=r.prototype)&&o!==n.prototype&&a(t,o),t}},2788:function(t,e,n){var n=n(5465),r=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return r.call(t)}),t.exports=n.inspectSource},2423:function(t,e,n){function r(t){c(t,f,{value:{objectID:"O"+ ++l,weakData:{}}})}var o=n(3501),i=n(111),a=n(6656),c=n(3070).f,u=n(9711),s=n(6677),f=u("meta"),l=0,h=Object.isExtensible||function(){return!0},p=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,f)){if(!h(t))return"F";if(!e)return"E";r(t)}return t[f].objectID},getWeakData:function(t,e){if(!a(t,f)){if(!h(t))return!0;if(!e)return!1;r(t)}return t[f].weakData},onFreeze:function(t){return s&&p.REQUIRED&&h(t)&&!a(t,f)&&r(t),t}};o[f]=!0},9909:function(t,e,n){var r,o,i,a,c,u,s,f,l=n(8536),h=n(7854),p=n(111),y=n(8880),d=n(6656),g=n(5465),v=n(6200),n=n(3501),h=h.WeakMap;s=l?(r=g.state||(g.state=new h),o=r.get,i=r.has,a=r.set,c=function(t,e){return e.facade=t,a.call(r,t,e),e},u=function(t){return o.call(r,t)||{}},function(t){return i.call(r,t)}):(n[f=v("state")]=!0,c=function(t,e){return e.facade=t,y(t,f,e),e},u=function(t){return d(t,f)?t[f]:{}},function(t){return d(t,f)}),t.exports={set:c,get:u,has:s,enforce:function(t){return s(t)?u(t):c(t,{})},getterFor:function(n){return function(t){var e;if(!p(t)||(e=u(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}}}},7659:function(t,e,n){var r=n(5112),o=n(7497),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},3157:function(t,e,n){var r=n(4326);t.exports=Array.isArray||function(t){return"Array"==r(t)}},4705:function(t,e,n){var r=n(7293),o=/#|\.prototype\./,n=function(t,e){t=a[i(t)];return t==u||t!=c&&("function"==typeof e?r(e):!!e)},i=n.normalize=function(t){return String(t).replace(o,".").toLowerCase()},a=n.data={},c=n.NATIVE="N",u=n.POLYFILL="P";t.exports=n},111:function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:function(t){t.exports=!1},7850:function(t,e,n){var r=n(111),o=n(4326),i=n(5112)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},408:function(t,e,n){function g(t,e){this.stopped=t,this.result=e}var v=n(9670),b=n(7659),m=n(7466),S=n(9974),w=n(1246),x=n(9212);t.exports=function(t,e,n){function r(t){return i&&x(i),new g(!0,t)}function o(t){return h?(v(t),y?d(t[0],t[1],r):d(t[0],t[1])):y?d(t,r):d(t)}var i,a,c,u,s,f,l=n&&n.that,h=!(!n||!n.AS_ENTRIES),p=!(!n||!n.IS_ITERATOR),y=!(!n||!n.INTERRUPTED),d=S(e,l,1+h+y);if(p)i=t;else{if("function"!=typeof(p=w(t)))throw TypeError("Target is not iterable");if(b(p)){for(a=0,c=m(t.length);a<c;a++)if((u=o(t[a]))&&u instanceof g)return u;return new g(!1)}i=p.call(t)}for(s=i.next;!(f=s.call(i)).done;){try{u=o(f.value)}catch(t){throw x(i),t}if("object"==typeof u&&u&&u instanceof g)return u}return new g(!1)}},9212:function(t,e,n){var r=n(9670);t.exports=function(t){var e=t.return;if(void 0!==e)return r(e.call(t)).value}},3383:function(t,e,n){"use strict";var r,o=n(9518),i=n(8880),a=n(6656),c=n(5112),u=n(1913),s=c("iterator"),n=!1;[].keys&&("next"in(c=[].keys())?(c=o(o(c)))!==Object.prototype&&(r=c):n=!0),null==r&&(r={}),u||a(r,s)||i(r,s,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:n}},7497:function(t){t.exports={}},4310:function(t){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},133:function(t,e,n){n=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!n(function(){return!String(Symbol())})},8536:function(t,e,n){var r=n(7854),n=n(2788),r=r.WeakMap;t.exports="function"==typeof r&&/native code/.test(n(r))},3929:function(t,e,n){var r=n(7850);t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},30:function(t,e,n){function r(){}function o(t){return"<script>"+t+"</"+p+">"}var i,a=n(9670),c=n(6048),u=n(748),s=n(3501),f=n(490),l=n(317),n=n(6200),h="prototype",p="script",y=n("IE_PROTO"),d=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t;d=i?function(t){t.write(o("")),t.close();var e=t.parentWindow.Object;return t=null,e}(i):((t=l("iframe")).style.display="none",f.appendChild(t),t.src=String("javascript:"),(t=t.contentWindow.document).open(),t.write(o("document.F=Object")),t.close(),t.F);for(var e=u.length;e--;)delete d[h][u[e]];return d()};s[y]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(r[h]=a(t),n=new r,r[h]=null,n[y]=t):n=d(),void 0===e?n:c(n,e)}},6048:function(t,e,n){var r=n(9781),a=n(3070),c=n(9670),u=n(1956);t.exports=r?Object.defineProperties:function(t,e){c(t);for(var n,r=u(e),o=r.length,i=0;i<o;)a.f(t,n=r[i++],e[n]);return t}},3070:function(t,e,n){var r=n(9781),o=n(4664),i=n(9670),a=n(7593),c=Object.defineProperty;e.f=r?c:function(t,e,n){if(i(t),e=a(e,!0),i(n),o)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){var r=n(9781),o=n(5296),i=n(9114),a=n(5656),c=n(7593),u=n(6656),s=n(4664),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=a(t),e=c(e,!0),s)try{return f(t,e)}catch(t){}if(u(t,e))return i(!o.f.call(t,e),t[e])}},8006:function(t,e,n){var r=n(6324),o=n(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,n){var r=n(6656),o=n(7908),i=n(6200),n=n(8544),a=i("IE_PROTO"),c=Object.prototype;t.exports=n?Object.getPrototypeOf:function(t){return t=o(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},6324:function(t,e,n){var a=n(6656),c=n(5656),u=n(1318).indexOf,s=n(3501);t.exports=function(t,e){var n,r=c(t),o=0,i=[];for(n in r)!a(s,n)&&a(r,n)&&i.push(n);for(;e.length>o;)a(r,n=e[o++])&&(~u(i,n)||i.push(n));return i}},1956:function(t,e,n){var r=n(6324),o=n(748);t.exports=Object.keys||function(t){return r(t,o)}},5296:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);e.f=o?function(t){t=r(this,t);return!!t&&t.enumerable}:n},7674:function(t,e,n){var o=n(9670),i=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,t={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),r=t instanceof Array}catch(t){}return function(t,e){return o(t),i(e),r?n.call(t,e):t.__proto__=e,t}}():void 0)},288:function(t,e,n){"use strict";var r=n(1694),o=n(648);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},3887:function(t,e,n){var r=n(5005),o=n(8006),i=n(5181),a=n(9670);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=i.f;return n?e.concat(n(t)):e}},857:function(t,e,n){n=n(7854);t.exports=n},2248:function(t,e,n){var o=n(1320);t.exports=function(t,e,n){for(var r in e)o(t,r,e[r],n);return t}},1320:function(t,e,n){var c=n(7854),u=n(8880),s=n(6656),f=n(3505),r=n(2788),n=n(9909),o=n.get,l=n.enforce,h=String(String).split("String");(t.exports=function(t,e,n,r){var o=!!r&&!!r.unsafe,i=!!r&&!!r.enumerable,a=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof e||s(n,"name")||u(n,"name",e),(r=l(n)).source||(r.source=h.join("string"==typeof e?e:""))),t!==c?(o?!a&&t[e]&&(i=!0):delete t[e],i?t[e]=n:u(t,e,n)):i?t[e]=n:f(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&o(this).source||r(this)})},7651:function(t,e,n){var r=n(4326),o=n(2261);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){n=n.call(t,e);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},2261:function(t,e,n){"use strict";var r,l=n(7066),o=n(2999),h=RegExp.prototype.exec,p=String.prototype.replace,i=h,y=(r=/a/,n=/b*/g,h.call(r,"a"),h.call(n,"a"),0!==r.lastIndex||0!==n.lastIndex),d=o.UNSUPPORTED_Y||o.BROKEN_CARET,g=void 0!==/()??/.exec("")[1];(y||g||d)&&(i=function(t){var e,n,r,o,i=this,a=d&&i.sticky,c=l.call(i),u=i.source,s=0,f=t;return a&&(-1===(c=c.replace("y","")).indexOf("g")&&(c+="g"),f=String(t).slice(i.lastIndex),0<i.lastIndex&&(!i.multiline||i.multiline&&"\n"!==t[i.lastIndex-1])&&(u="(?: "+u+")",f=" "+f,s++),n=new RegExp("^(?:"+u+")",c)),g&&(n=new RegExp("^"+u+"$(?!\\s)",c)),y&&(e=i.lastIndex),r=h.call(a?n:i,f),a?r?(r.input=r.input.slice(s),r[0]=r[0].slice(s),r.index=i.lastIndex,i.lastIndex+=r[0].length):i.lastIndex=0:y&&r&&(i.lastIndex=i.global?r.index+r[0].length:e),g&&r&&1<r.length&&p.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r}),t.exports=i},7066:function(t,e,n){"use strict";var r=n(9670);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},2999:function(t,e,n){"use strict";n=n(7293);function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n(function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")}),e.BROKEN_CARET=n(function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")})},4488:function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},6465:function(t){t.exports=function(t,e){return t===e||t!=t&&e!=e}},3505:function(t,e,n){var r=n(7854),o=n(8880);t.exports=function(e,n){try{o(r,e,n)}catch(t){r[e]=n}return n}},6340:function(t,e,n){"use strict";var r=n(5005),o=n(3070),i=n(5112),a=n(9781),c=i("species");t.exports=function(t){var e=r(t),t=o.f;a&&e&&!e[c]&&t(e,c,{configurable:!0,get:function(){return this}})}},8003:function(t,e,n){var r=n(3070).f,o=n(6656),i=n(5112)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},6200:function(t,e,n){var r=n(2309),o=n(9711),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},5465:function(t,e,n){var r=n(7854),o=n(3505),n="__core-js_shared__",n=r[n]||o(n,{});t.exports=n},2309:function(t,e,n){var r=n(1913),o=n(5465);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.8.2",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},6707:function(t,e,n){var r=n(9670),o=n(3099),i=n(5112)("species");t.exports=function(t,e){var n,t=r(t).constructor;return void 0===t||null==(n=r(t)[i])?e:o(n)}},8710:function(t,e,n){var a=n(9958),c=n(4488),n=function(i){return function(t,e){var n,r=String(c(t)),o=a(e),t=r.length;return o<0||t<=o?i?"":void 0:(e=r.charCodeAt(o))<55296||56319<e||o+1===t||(n=r.charCodeAt(o+1))<56320||57343<n?i?r.charAt(o):e:i?r.slice(o,o+2):n-56320+(e-55296<<10)+65536}};t.exports={codeAt:n(!1),charAt:n(!0)}},1400:function(t,e,n){var r=n(9958),o=Math.max,i=Math.min;t.exports=function(t,e){t=r(t);return t<0?o(t+e,0):i(t,e)}},5656:function(t,e,n){var r=n(8361),o=n(4488);t.exports=function(t){return r(o(t))}},9958:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?n:e)(t)}},7466:function(t,e,n){var r=n(9958),o=Math.min;t.exports=function(t){return 0<t?o(r(t),9007199254740991):0}},7908:function(t,e,n){var r=n(4488);t.exports=function(t){return Object(r(t))}},7593:function(t,e,n){var o=n(111);t.exports=function(t,e){if(!o(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!o(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},1694:function(t,e,n){var r={};r[n(5112)("toStringTag")]="z",t.exports="[object z]"===String(r)},9711:function(t){var e=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+n).toString(36)}},3307:function(t,e,n){n=n(133);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:function(t,e,n){var r=n(7854),o=n(2309),i=n(6656),a=n(9711),c=n(133),n=n(3307),u=o("wks"),s=r.Symbol,f=n?s:s&&s.withoutSetter||a;t.exports=function(t){return i(u,t)||(c&&i(s,t)?u[t]=s[t]:u[t]=f("Symbol."+t)),u[t]}},2222:function(t,e,n){"use strict";var r=n(2109),o=n(7293),s=n(3157),f=n(111),l=n(7908),h=n(7466),p=n(6135),y=n(5417),i=n(1194),a=n(5112),n=n(7392),d=a("isConcatSpreadable"),g=9007199254740991,v="Maximum allowed index exceeded",o=51<=n||!o(function(){var t=[];return t[d]=!1,t.concat()[0]!==t}),i=i("concat");r({target:"Array",proto:!0,forced:!o||!i},{concat:function(t){for(var e,n,r,o=l(this),i=y(o,0),a=0,c=-1,u=arguments.length;c<u;c++)if(function(t){if(!f(t))return!1;var e=t[d];return void 0!==e?!!e:s(t)}(r=-1===c?o:arguments[c])){if(n=h(r.length),g<a+n)throw TypeError(v);for(e=0;e<n;e++,a++)e in r&&p(i,a,r[e])}else{if(g<=a)throw TypeError(v);p(i,a++,r)}return i.length=a,i}})},6541:function(t,e,n){"use strict";var r=n(2109),o=n(2092).every,i=n(9341),n=n(9207),i=i("every"),n=n("every");r({target:"Array",proto:!0,forced:!i||!n},{every:function(t){return o(this,t,1<arguments.length?arguments[1]:void 0)}})},3290:function(t,e,n){var r=n(2109),o=n(1285),n=n(1223);r({target:"Array",proto:!0},{fill:o}),n("fill")},7327:function(t,e,n){"use strict";var r=n(2109),o=n(2092).filter,i=n(1194),n=n(9207),i=i("filter"),n=n("filter");r({target:"Array",proto:!0,forced:!i||!n},{filter:function(t){return o(this,t,1<arguments.length?arguments[1]:void 0)}})},4553:function(t,e,n){"use strict";var r=n(2109),o=n(2092).findIndex,i=n(1223),a=n(9207),n="findIndex",c=!0,a=a(n);n in[]&&Array(1)[n](function(){c=!1}),r({target:"Array",proto:!0,forced:c||!a},{findIndex:function(t){return o(this,t,1<arguments.length?arguments[1]:void 0)}}),i(n)},9554:function(t,e,n){"use strict";var r=n(2109),n=n(8533);r({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},1038:function(t,e,n){var r=n(2109),o=n(8457);r({target:"Array",stat:!0,forced:!n(7072)(function(t){Array.from(t)})},{from:o})},6699:function(t,e,n){"use strict";var r=n(2109),o=n(1318).includes,i=n(1223);r({target:"Array",proto:!0,forced:!n(9207)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(t){return o(this,t,1<arguments.length?arguments[1]:void 0)}}),i("includes")},2772:function(t,e,n){"use strict";var r=n(2109),o=n(1318).indexOf,i=n(9341),n=n(9207),a=[].indexOf,c=!!a&&1/[1].indexOf(1,-0)<0,i=i("indexOf"),n=n("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:c||!i||!n},{indexOf:function(t){return c?a.apply(this,arguments)||0:o(this,t,1<arguments.length?arguments[1]:void 0)}})},6992:function(t,e,n){"use strict";var r=n(5656),o=n(1223),i=n(7497),a=n(9909),n=n(654),c="Array Iterator",u=a.set,s=a.getterFor(c);t.exports=n(Array,"Array",function(t,e){u(this,{type:c,target:r(t),index:0,kind:e})},function(){var t=s(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},1249:function(t,e,n){"use strict";var r=n(2109),o=n(2092).map,i=n(1194),n=n(9207),i=i("map"),n=n("map");r({target:"Array",proto:!0,forced:!i||!n},{map:function(t){return o(this,t,1<arguments.length?arguments[1]:void 0)}})},5827:function(t,e,n){"use strict";var r=n(2109),o=n(3671).left,i=n(9341),a=n(9207),c=n(7392),n=n(5268),i=i("reduce"),a=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!i||!a||!n&&79<c&&c<83},{reduce:function(t){return o(this,t,arguments.length,1<arguments.length?arguments[1]:void 0)}})},5069:function(t,e,n){"use strict";var r=n(2109),o=n(3157),i=[].reverse,n=[1,2];r({target:"Array",proto:!0,forced:String(n)===String(n.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),i.call(this)}})},7042:function(t,e,n){"use strict";var r=n(2109),s=n(111),f=n(3157),l=n(1400),h=n(7466),p=n(5656),y=n(6135),o=n(5112),i=n(1194),n=n(9207),i=i("slice"),n=n("slice",{ACCESSORS:!0,0:0,1:2}),d=o("species"),g=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!i||!n},{slice:function(t,e){var n,r,o,i=p(this),a=h(i.length),c=l(t,a),u=l(void 0===e?a:e,a);if(f(i)&&(("function"==typeof(n=i.constructor)&&(n===Array||f(n.prototype))||s(n)&&null===(n=n[d]))&&(n=void 0),n===Array||void 0===n))return g.call(i,c,u);for(r=new(void 0===n?Array:n)(v(u-c,0)),o=0;c<u;c++,o++)c in i&&y(r,o,i[c]);return r.length=o,r}})},5212:function(t,e,n){"use strict";var r=n(2109),o=n(2092).some,i=n(9341),n=n(9207),i=i("some"),n=n("some");r({target:"Array",proto:!0,forced:!i||!n},{some:function(t){return o(this,t,1<arguments.length?arguments[1]:void 0)}})},2707:function(t,e,n){"use strict";var r=n(2109),o=n(3099),i=n(7908),a=n(7293),c=n(9341),u=[],s=u.sort,n=a(function(){u.sort(void 0)}),a=a(function(){u.sort(null)}),c=c("sort");r({target:"Array",proto:!0,forced:n||!a||!c},{sort:function(t){return void 0===t?s.call(i(this)):s.call(i(this),o(t))}})},561:function(t,e,n){"use strict";var r=n(2109),l=n(1400),h=n(9958),p=n(7466),y=n(7908),d=n(5417),g=n(6135),o=n(1194),n=n(9207),o=o("splice"),n=n("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,b=Math.min;r({target:"Array",proto:!0,forced:!o||!n},{splice:function(t,e){var n,r,o,i,a,c,u=y(this),s=p(u.length),f=l(t,s),t=arguments.length;if(0===t?n=r=0:r=1===t?(n=0,s-f):(n=t-2,b(v(h(e),0),s-f)),9007199254740991<s+n-r)throw TypeError("Maximum allowed length exceeded");for(o=d(u,r),i=0;i<r;i++)(a=f+i)in u&&g(o,i,u[a]);if(n<(o.length=r)){for(i=f;i<s-r;i++)c=i+n,(a=i+r)in u?u[c]=u[a]:delete u[c];for(i=s;s-r+n<i;i--)delete u[i-1]}else if(r<n)for(i=s-r;f<i;i--)c=i+n-1,(a=i+r-1)in u?u[c]=u[a]:delete u[c];for(i=0;i<n;i++)u[i+f]=arguments[i+2];return u.length=s-r+n,o}})},1532:function(t,e,n){"use strict";var r=n(7710),n=n(5631);t.exports=r("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},n)},2420:function(t,e,n){n(2109)({target:"Math",stat:!0},{sign:n(4310)})},489:function(t,e,n){var r=n(2109),o=n(7293),i=n(7908),a=n(9518),n=n(8544);r({target:"Object",stat:!0,forced:o(function(){a(1)}),sham:!n},{getPrototypeOf:function(t){return a(i(t))}})},1539:function(t,e,n){var r=n(1694),o=n(1320),n=n(288);r||o(Object.prototype,"toString",n,{unsafe:!0})},4916:function(t,e,n){"use strict";var r=n(2109),n=n(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},9714:function(t,e,n){"use strict";var r=n(1320),o=n(9670),i=n(7293),a=n(7066),c="toString",u=RegExp.prototype,s=u[c],n=i(function(){return"/a/b"!=s.call({source:"a",flags:"b"})}),i=s.name!=c;(n||i)&&r(RegExp.prototype,c,function(){var t=o(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in u)?a.call(t):n)},{unsafe:!0})},2023:function(t,e,n){"use strict";var r=n(2109),o=n(3929),i=n(4488);r({target:"String",proto:!0,forced:!n(4964)("includes")},{includes:function(t){return!!~String(i(this)).indexOf(o(t),1<arguments.length?arguments[1]:void 0)}})},8783:function(t,e,n){"use strict";var r=n(8710).charAt,o=n(9909),n=n(654),i="String Iterator",a=o.set,c=o.getterFor(i);n(String,"String",function(t){a(this,{type:i,string:String(t),index:0})},function(){var t=c(this),e=t.string,n=t.index;return n>=e.length?{value:void 0,done:!0}:(n=r(e,n),t.index+=n.length,{value:n,done:!1})})},5306:function(t,e,n){"use strict";var r=n(7007),E=n(9670),M=n(7466),j=n(9958),i=n(4488),I=n(1530),T=n(647),k=n(7651),P=Math.max,A=Math.min;r("replace",2,function(o,S,w,t){var x=t.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,O=t.REPLACE_KEEPS_$0,R=x?"$":"$0";return[function(t,e){var n=i(this),r=null==t?void 0:t[o];return void 0!==r?r.call(t,n,e):S.call(String(n),t,e)},function(t,e){if(!x&&O||"string"==typeof e&&-1===e.indexOf(R)){var n=w(S,t,this,e);if(n.done)return n.value}var r=E(t),o=String(this),i="function"==typeof e;i||(e=String(e));var a,c=r.global;c&&(a=r.unicode,r.lastIndex=0);for(var u=[];;){var s=k(r,o);if(null===s)break;if(u.push(s),!c)break;""===String(s[0])&&(r.lastIndex=I(o,M(r.lastIndex),a))}for(var f,l="",h=0,p=0;p<u.length;p++){s=u[p];for(var y=String(s[0]),d=P(A(j(s.index),o.length),0),g=[],v=1;v<s.length;v++)g.push(void 0===(f=s[v])?f:String(f));var b,m=s.groups,m=i?(b=[y].concat(g,d,o),void 0!==m&&b.push(m),String(e.apply(void 0,b))):T(y,o,d,g,m,e);h<=d&&(l+=o.slice(h,d)+m,h=d+y.length)}return l+o.slice(h)}]})},3123:function(t,e,n){"use strict";var r=n(7007),f=n(7850),v=n(9670),l=n(4488),b=n(6707),m=n(1530),S=n(7466),w=n(7651),h=n(2261),n=n(7293),p=[].push,x=Math.min,O=4294967295,R=!n(function(){return!RegExp(O,"y")});r("split",2,function(o,y,d){var g="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(t,e){var n=String(l(this)),r=void 0===e?O:e>>>0;if(0==r)return[];if(void 0===t)return[n];if(!f(t))return y.call(n,t,r);for(var o,i,a,c=[],e=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,s=new RegExp(t.source,e+"g");(o=h.call(s,n))&&!(u<(i=s.lastIndex)&&(c.push(n.slice(u,o.index)),1<o.length&&o.index<n.length&&p.apply(c,o.slice(1)),a=o[0].length,u=i,c.length>=r));)s.lastIndex===o.index&&s.lastIndex++;return u===n.length?!a&&s.test("")||c.push(""):c.push(n.slice(u)),c.length>r?c.slice(0,r):c}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:y.call(this,t,e)}:y;return[function(t,e){var n=l(this),r=null==t?void 0:t[o];return void 0!==r?r.call(t,n,e):g.call(String(n),t,e)},function(t,e){var n=d(g,t,this,e,g!==y);if(n.done)return n.value;var r=v(t),o=String(this),n=b(r,RegExp),i=r.unicode,t=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(R?"y":"g"),a=new n(R?r:"^(?:"+r.source+")",t),c=void 0===e?O:e>>>0;if(0==c)return[];if(0===o.length)return null===w(a,o)?[o]:[];for(var u=0,s=0,f=[];s<o.length;){a.lastIndex=R?s:0;var l,h=w(a,R?o:o.slice(s));if(null===h||(l=x(S(a.lastIndex+(R?0:s)),o.length))===u)s=m(o,s,i);else{if(f.push(o.slice(u,s)),f.length===c)return f;for(var p=1;p<=h.length-1;p++)if(f.push(h[p]),f.length===c)return f;s=u=l}}return f.push(o.slice(u)),f}]},!R)},72:function(t,e,n){"use strict";var r=n(2109),o=n(1913),i=n(4092);r({target:"Map",proto:!0,real:!0,forced:o},{deleteAll:function(){return i.apply(this,arguments)}})},9137:function(t,e,n){"use strict";var r=n(2109),o=n(1913),i=n(9670),a=n(9974),c=n(4647),u=n(408);r({target:"Map",proto:!0,real:!0,forced:o},{every:function(t){var r=i(this),e=c(r),o=a(t,1<arguments.length?arguments[1]:void 0,3);return!u(e,function(t,e,n){if(!o(e,t,r))return n()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},1957:function(t,e,n){"use strict";var r=n(2109),o=n(1913),a=n(5005),c=n(9670),u=n(3099),s=n(9974),f=n(6707),l=n(4647),h=n(408);r({target:"Map",proto:!0,real:!0,forced:o},{filter:function(t){var n=c(this),e=l(n),r=s(t,1<arguments.length?arguments[1]:void 0,3),o=new(f(n,a("Map"))),i=u(o.set);return h(e,function(t,e){r(e,t,n)&&i.call(o,t,e)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),o}})},103:function(t,e,n){"use strict";var r=n(2109),o=n(1913),i=n(9670),a=n(9974),c=n(4647),u=n(408);r({target:"Map",proto:!0,real:!0,forced:o},{findKey:function(t){var r=i(this),e=c(r),o=a(t,1<arguments.length?arguments[1]:void 0,3);return u(e,function(t,e,n){if(o(e,t,r))return n(t)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},6306:function(t,e,n){"use strict";var r=n(2109),o=n(1913),i=n(9670),a=n(9974),c=n(4647),u=n(408);r({target:"Map",proto:!0,real:!0,forced:o},{find:function(t){var r=i(this),e=c(r),o=a(t,1<arguments.length?arguments[1]:void 0,3);return u(e,function(t,e,n){if(o(e,t,r))return n(e)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},4592:function(t,e,n){"use strict";var r=n(2109),o=n(1913),i=n(9670),a=n(4647),c=n(6465),u=n(408);r({target:"Map",proto:!0,real:!0,forced:o},{includes:function(r){return u(a(i(this)),function(t,e,n){if(c(e,r))return n()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},8276:function(t,e,n){"use strict";var r=n(2109),o=n(1913),i=n(9670),a=n(4647),c=n(408);r({target:"Map",proto:!0,real:!0,forced:o},{keyOf:function(r){return c(a(i(this)),function(t,e,n){if(e===r)return n(t)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},5082:function(t,e,n){"use strict";var r=n(2109),o=n(1913),a=n(5005),c=n(9670),u=n(3099),s=n(9974),f=n(6707),l=n(4647),h=n(408);r({target:"Map",proto:!0,real:!0,forced:o},{mapKeys:function(t){var n=c(this),e=l(n),r=s(t,1<arguments.length?arguments[1]:void 0,3),o=new(f(n,a("Map"))),i=u(o.set);return h(e,function(t,e){i.call(o,r(e,t,n),e)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),o}})},2813:function(t,e,n){"use strict";var r=n(2109),o=n(1913),a=n(5005),c=n(9670),u=n(3099),s=n(9974),f=n(6707),l=n(4647),h=n(408);r({target:"Map",proto:!0,real:!0,forced:o},{mapValues:function(t){var n=c(this),e=l(n),r=s(t,1<arguments.length?arguments[1]:void 0,3),o=new(f(n,a("Map"))),i=u(o.set);return h(e,function(t,e){i.call(o,t,r(e,t,n))},{AS_ENTRIES:!0,IS_ITERATOR:!0}),o}})},8222:function(t,e,n){"use strict";var r=n(2109),o=n(1913),i=n(9670),a=n(3099),c=n(408);r({target:"Map",proto:!0,real:!0,forced:o},{merge:function(t){for(var e=i(this),n=a(e.set),r=0;r<arguments.length;)c(arguments[r++],n,{that:e,AS_ENTRIES:!0});return e}})},8563:function(t,e,n){"use strict";var r=n(2109),o=n(1913),a=n(9670),c=n(3099),u=n(4647),s=n(408);r({target:"Map",proto:!0,real:!0,forced:o},{reduce:function(n){var r=a(this),t=u(r),o=arguments.length<2,i=o?void 0:arguments[1];if(c(n),s(t,function(t,e){i=o?(o=!1,e):n(i,e,t,r)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),o)throw TypeError("Reduce of empty map with no initial value");return i}})},336:function(t,e,n){"use strict";var r=n(2109),o=n(1913),i=n(9670),a=n(9974),c=n(4647),u=n(408);r({target:"Map",proto:!0,real:!0,forced:o},{some:function(t){var r=i(this),e=c(r),o=a(t,1<arguments.length?arguments[1]:void 0,3);return u(e,function(t,e,n){if(o(e,t,r))return n()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},7512:function(t,e,n){"use strict";var r=n(2109),o=n(1913),i=n(9670),a=n(3099);r({target:"Map",proto:!0,real:!0,forced:o},{update:function(t,e){var n=i(this),r=arguments.length;a(e);var o=n.has(t);if(!o&&r<3)throw TypeError("Updating absent value");r=o?n.get(t):a(2<r?arguments[2]:void 0)(t,n);return n.set(t,e(r,t,n)),n}})},4747:function(t,e,n){var r,o=n(7854),i=n(8324),a=n(8533),c=n(8880);for(r in i){var u=o[r],s=u&&u.prototype;if(s&&s.forEach!==a)try{c(s,"forEach",a)}catch(t){s.forEach=a}}},3948:function(t,e,n){var r,o=n(7854),i=n(8324),a=n(6992),c=n(8880),n=n(5112),u=n("iterator"),s=n("toStringTag"),f=a.values;for(r in i){var l=o[r],h=l&&l.prototype;if(h){if(h[u]!==f)try{c(h,u,f)}catch(t){h[u]=f}if(h[s]||c(h,s,r),i[r])for(var p in a)if(h[p]!==a[p])try{c(h,p,a[p])}catch(t){h[p]=a[p]}}}}},r={};function Sn(t){if(r[t])return r[t].exports;var e=r[t]={exports:{}};return n[t](e,e.exports,Sn),e.exports}Sn.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),function(){"use strict";Sn(1539),Sn(9714),Sn(6992),Sn(1532),Sn(8783),Sn(72),Sn(9137),Sn(1957),Sn(6306),Sn(103),Sn(4592),Sn(8276),Sn(5082),Sn(2813),Sn(8222),Sn(8563),Sn(336),Sn(7512),Sn(3948);var o=[["branding","assets/img/branding.png"],["logo","assets/img/logo-2d.png"],["start-btn","assets/img/start-btn.png"],["rank-btn","assets/img/rank-btn.png"],["whirlychicken-logo","assets/img/whirlychicken-logo-circle.png"],["pivot","assets/img/pivot.png"],["blue-bubble","assets/img/blue-bubble.png"],["cyan-bubble","assets/img/cyan-bubble.png"],["red-bubble","assets/img/red-bubble.png"],["yellow-bubble","assets/img/yellow-bubble.png"],["pink-bubble","assets/img/pink-bubble.png"],["green-bubble","assets/img/green-bubble.png"],["gray-bubble","assets/img/gray-bubble.png"],["restart-btn","assets/img/restart-btn.png"],["group-rank-btn","assets/img/group-rank-btn.png"],["return-btn","assets/img/return.png"],["share-img","assets/img/share.png"],["DustyPro","assets/bmfonts/DustyPro.png"]];function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||u(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:o;!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.assets=new Map(t)}var t,n,r;return t=e,r=[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}],(n=[{key:"onLoaded",value:function(t){var e=this,n=0,r=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=u(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,e=function(){};return{s:e,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}(this.assets);try{for(r.s();!(a=r.n()).done;){var o=c(a.value,2),i=o[0],a=o[1],o=wx.createImage();o.onload=function(){++n>=e.assets.size&&t(e.assets)},o.src=a,this.assets.set(i,o)}}catch(t){r.e(t)}finally{r.f()}}}])&&i(t.prototype,n),r&&i(t,r),e}(),s=function e(){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)};function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Sn(6699),Sn(4916),Sn(2023),Sn(5306);var l=function(){function e(){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}var t,n,r;return t=e,r=[{key:"getUUID",value:function(){e.assigned=e.assigned||[];var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)});return e.assigned.includes(t)?e.getUUID():(e.assigned.push(t),t)}}],(n=null)&&f(t.prototype,n),r&&f(t,r),e}(),h=function e(t,n,r){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.img=t,this.width=n,this.height=r||t.height/t.width*n};function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var y=function(){function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0;!function(t){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),this.id=l.getUUID(),this.texture=new h(t,r,o),this.setX(e),this.setY(n)}var t,e,n;return t=i,(e=[{key:"setX",value:function(t){this.x=t,this.startX=t-this.texture.width/2,this.endX=t+this.texture.width/2}},{key:"setY",value:function(t){this.y=t,this.startY=t-this.texture.height/2,this.endY=t+this.texture.height/2}},{key:"getX",value:function(){return this.x}},{key:"getY",value:function(){return this.y}},{key:"collides",value:function(t){return t.startX<this.endX&&t.startY<this.endY&&t.endX>this.startX&&t.endY>this.startY}},{key:"isTouched",value:function(t){var e=(t.touches[0]||t.changedTouches[0]).clientX,t=(t.touches[0]||t.changedTouches[0]).clientY;return e>=this.startX&&t>=this.startY&&e<=this.endX&&t<=this.endY}},{key:"render",value:function(t){t.drawImage(this.texture.img,this.startX,this.startY,this.texture.width,this.texture.height)}}])&&p(t.prototype,e),n&&p(t,n),i}();function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Sn(9554),Sn(1249),Sn(489),Sn(4747),Sn(2222),Sn(4553),Sn(561);var g=function(){function e(t){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.target=t}var t,n,r;return t=e,(n=[{key:"render",value:function(t){this.target.render(t)}}])&&d(t.prototype,n),r&&d(t,r),e}();function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e,n){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=x(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=x(n);return t=r?(t=x(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==v(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var O=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(o,g);var t,e,n,r=w(o);function o(t){return function(t){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(t=r.call(this,t)).startAngle=0,t.stepSize=.01,t}return t=o,(e=[{key:"render",value:function(t){this.startAngle+=this.stepSize,t.save(),t.translate(this.target.getX(),this.target.getY()),t.rotate(this.startAngle),t.translate(-this.target.getX(),-this.target.getY()),m(x(o.prototype),"render",this).call(this,t),t.restore()}}])&&b(t.prototype,e),n&&b(t,n),o}();function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function M(t,e,n){return(M="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=T(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function j(t,e){return(j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function I(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=T(n);return t=r?(t=T(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==R(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var k=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j(t,e)}(o,g);var t,e,n,r=I(o);function o(t){return function(t){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(t=r.call(this,t)).factor=1,t.step=.02,t}return t=o,(e=[{key:"render",value:function(t){if(this.target.rotatedOut)return this.outOfSight=!0;this.factor-=this.step;var e=Math.sin(this.factor);t.save(),t.translate(this.target.getX(),this.target.getY()),t.scale(e,e),t.rotate(2*Math.PI*e),t.translate(-this.target.getX(),-this.target.getY()),M(T(o.prototype),"render",this).call(this,t),t.restore(),this.factor<=0&&(this.target.rotatedOut=!0)}}])&&E(t.prototype,e),n&&E(t,n),o}();function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e,n){return(_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Y(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function D(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=Y(n);return t=r?(t=Y(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==P(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var X=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(o,g);var t,e,n,r=D(o);function o(t){return function(t){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(t=r.call(this,t)).factor=0,t.step=.02,t}return t=o,(e=[{key:"render",value:function(t){if(this.target.rotatedIn)return _(Y(o.prototype),"render",this).call(this,t);this.factor+=this.step,this.factor=Math.min(Math.PI/2,this.factor);var e=Math.sin(this.factor);t.save(),t.translate(this.target.getX(),this.target.getY()),t.scale(e,e),t.rotate(2*Math.PI*e),t.translate(-this.target.getX(),-this.target.getY()),_(Y(o.prototype),"render",this).call(this,t),t.restore(),this.factor>=Math.PI/2&&(this.target.rotatedIn=!0)}}])&&A(t.prototype,e),n&&A(t,n),o}();function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function z(t,e,n){return(z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=W(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function U(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=W(n);return t=r?(t=W(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==H(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var L=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(o,g);var t,e,n,r=U(o);function o(t){return function(t){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(t=r.call(this,t)).factor=1,t.step=.05,t}return t=o,(e=[{key:"render",value:function(t){if(this.target.fadedOut)return this.outOfSight=!0;this.factor-=this.step,this.factor=Math.max(0,this.factor),t.save();var e=2-this.factor;t.translate(this.target.getX(),this.target.getY()),t.scale(e,e),t.translate(-this.target.getX(),-this.target.getY()),t.globalAlpha=this.factor,z(W(o.prototype),"render",this).call(this,t),t.restore(),0==this.factor&&(this.target.fadedOut=!0)}}])&&N(t.prototype,e),n&&N(t,n),o}();function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function q(t,e,n){return(q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=V(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function $(t,e){return($=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function K(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=V(n);return t=r?(t=V(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==G(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Z=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$(t,e)}(o,g);var t,e,n,r=K(o);function o(t){return function(t){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(t=r.call(this,t)).target.zoomedIn=!1,t.factor=0,t.step=.05,t}return t=o,(e=[{key:"render",value:function(t){if(this.target.zoomedIn)return q(V(o.prototype),"render",this).call(this,t);this.factor+=this.step,this.factor=Math.min(Math.PI/2,this.factor);var e=Math.sin(this.factor);t.save(),t.translate(this.target.getX(),this.target.getY()),t.scale(e,e),t.translate(-this.target.getX(),-this.target.getY()),q(V(o.prototype),"render",this).call(this,t),t.restore(),this.factor>=Math.PI/2&&(this.target.zoomedIn=!0)}}])&&F(t.prototype,e),n&&F(t,n),o}();function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tt(t,e,n){return(tt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rt(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function et(t,e){return(et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nt(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=rt(n);return t=r?(t=rt(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==Q(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function rt(t){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ot=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&et(t,e)}(o,g);var t,e,n,r=nt(o);function o(t){return function(t){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(t=r.call(this,t)).target.zoomedInUp=!1,t.factor=.5,t.step=.05,t}return t=o,(e=[{key:"render",value:function(t){if(this.target.zoomedInUp)return tt(rt(o.prototype),"render",this).call(this,t);this.factor+=this.step,this.factor=Math.min(Math.PI/2,this.factor);var e=Math.sin(this.factor);t.save(),t.translate(this.target.getX(),this.target.getY()),t.scale(e,e),t.translate(-this.target.getX(),-this.target.getY()),t.translate(0,(1-e)*(s.screenHeight-this.target.getY())),tt(rt(o.prototype),"render",this).call(this,t),t.restore(),this.factor>=Math.PI/2&&(this.target.zoomedInUp=!0)}}])&&J(t.prototype,e),n&&J(t,n),o}();function it(t){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function t(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=at(n);return t=r?(t=at(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==it(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function at(t){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ct=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}(o,y);var r=t(o);function o(t,e,n){return function(t){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),r.call(this,t,e,n,o.size)}return o}();function ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Sn(3290),Sn(7327),Sn(5827),Sn(1038),Sn(2772),Sn(5212),Sn(2707),Sn(2420),Sn(7042);var st=function(){function a(t,e,n){if(!function(t){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this),this.q=t,this.r=e,this.s=n,0!==Math.round(t+e+n))throw"q + r + s must be 0"}var t,e,n;return t=a,n=[{key:"add",value:function(t,e){return new a(t.q+e.q,t.r+e.r,t.s+e.s)}},{key:"subtract",value:function(t,e){return new a(t.q-e.q,t.r-e.r,t.s-e.s)}},{key:"scale",value:function(t,e){return new a(t.q*e,t.r*e,t.s*e)}},{key:"direction",value:function(t){return a.directions[t]}},{key:"neighbor",value:function(t,e){return a.add(t,a.direction(e))}}],(e=[{key:"toPixel",value:function(){return{x:a.size*(Math.sqrt(3)*this.q+Math.sqrt(3)/2*this.r),y:a.size*(1.5*this.r)}}},{key:"len",value:function(){return(Math.abs(this.q)+Math.abs(this.r)+Math.abs(this.s))/2}},{key:"distance",value:function(t){return a.subtract(this,t).len()}},{key:"round",value:function(){var t=Math.round(this.q),e=Math.round(this.r),n=Math.round(this.s),r=Math.abs(t-this.q),o=Math.abs(e-this.r),i=Math.abs(n-this.s);return o<r&&i<r?t=-e-n:i<o?e=-t-n:n=-t-e,new a(t,e,n)}},{key:"setObj",value:function(t){(t.hex=this).obj=t}},{key:"unsetObj",value:function(){this.obj.hex=null,this.obj=null}}])&&ut(t.prototype,e),n&&ut(t,n),a}();function ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}st.directions=[new st(1,0,-1),new st(1,-1,0),new st(0,-1,1),new st(-1,0,1),new st(-1,1,0),new st(0,1,-1)];var lt=function(){function c(){!function(t){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),this.data=new Array(2*c.radius+1);for(var t=0;t<this.data.length;t++)this.data[t]=new Array(2*c.radius+1-Math.abs(c.radius-t));for(var e=-c.radius;e<=c.radius;e++)for(var n=Math.max(-c.radius,-e-c.radius),r=Math.min(c.radius,-e+c.radius),o=n;o<=r;o++){var i=e+c.radius,a=o+c.radius;this.data[a][i-Math.max(0,c.radius-a)]=new st(i,a,-i-a)}}var t,e,n;return t=c,n=[{key:"getInstance",value:function(){return c.instance||(c.instance=new c),c.instance}}],(e=[{key:"map",value:function(t){return this.data[t.r][t.q-Math.max(0,c.radius-t.r)]}},{key:"centre",value:function(){return this.data[c.radius][c.radius]}},{key:"cubeRing",value:function(t,e){for(var n=[],r=this.map(st.add(t,st.scale(st.direction(4),e))),o=0;o<6;o++)for(var i=0;i<e;i++)r&&(n.push(r),r=this.map(st.neighbor(r,o)));return n}},{key:"cubeSpiral",value:function(t,e){for(var n=[t],r=1;r<=e;r++)n=n.concat(this.cubeRing(t,r));return n}},{key:"getAdjacentHexes",value:function(t){return this.cubeRing(t,1)}}])&&ft(t.prototype,e),n&&ft(t,n),c}();function ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var pt=function(){function e(t){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.spinner=t,this.bubbleAssets=yt([s.assets.get("blue-bubble"),s.assets.get("cyan-bubble"),s.assets.get("red-bubble"),s.assets.get("yellow-bubble"),s.assets.get("pink-bubble"),s.assets.get("green-bubble")]),st.size=Math.ceil(.065*s.screenWidth)/2,ct.size=st.size*(1/Math.sqrt(3)+1)*2/1.9,lt.radius=Math.ceil(Math.max(s.screenWidth,.5*s.screenHeight)/ct.size),this.hexMap=lt.getInstance(),this.screenCentre={x:.5*s.screenWidth,y:.5*s.screenHeight};t=this.hexMap.centre().toPixel();this.xOffset=this.screenCentre.x-t.x,this.yOffset=this.screenCentre.y-t.y}var t,n,r;return t=e,(n=[{key:"createPivot",value:function(){var t=new y(s.assets.get("pivot"),this.screenCentre.x,this.screenCentre.y,ct.size,2*Math.sqrt(Math.pow(ct.size/2,2)-Math.pow(ct.size/4,2)));return this.hexMap.centre().setObj(t),t}},{key:"getSpinnerRadius",value:function(){var t=[2,3,4,5,6];return s.level<t.length?t[s.level]:t[t.length-1]}},{key:"getBubbleAssets",value:function(){return this.bubbleAssets.slice(0,this.getSpinnerRadius()+1)}},{key:"randomBubbleAsset",value:function(){var t=this.getBubbleAssets();return t[Math.floor(Math.random()*t.length)]}},{key:"createBubbles",value:function(){var i=this,t=this.hexMap.cubeSpiral(this.hexMap.centre(),this.getSpinnerRadius());t.shift();var a=this.getBubbleAssets(),c=new Array(t.length);return t.forEach(function(t,e){var n=e%a.length;n||(a=yt(a));var r=i.hexToCoordinates(t),o=r.x,r=r.y,r=new ct(a[n],o,r);t.setObj(r),c[e]=r}),c}},{key:"hexToCoordinates",value:function(t){var e=t.toPixel(),n=e.x,r=e.y;n+=this.xOffset,r+=this.yOffset;var o=this.spinner.getX(),t=this.spinner.getY(),e=n-o,n=r-t,r=Math.sqrt(Math.pow(e,2)+Math.pow(n,2)),e=Math.atan2(n,e)-this.spinner.angleOfRotation;return{x:o+Math.cos(e)*r,y:t+Math.sin(e)*r}}},{key:"getAdjacentHexes",value:function(t){return this.hexMap.getAdjacentHexes(t)}}])&&ht(t.prototype,n),r&&ht(t,r),e}();function yt(t){for(var e=t.length-1;0<e;e--){var n=Math.floor(Math.random()*(e+1)),r=[t[n],t[e]];t[e]=r[0],t[n]=r[1]}return t}var e=function e(t,n){var r=this;!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.bitmap=t,this.defaultSize=Math.abs(parseInt(n.info.size)),this.chars={},n.chars.char.forEach(function(t){r.chars[String.fromCharCode(t.id)]=t})};function dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Sn(5069),Sn(3123);var gt=function(){function e(t){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.bitmapFont=t}var t,n,r;return t=e,(n=[{key:"draw",value:function(n,t){var e,r=this,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,c=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"left",u=o/this.bitmapFont.defaultSize,t=t.toString().split("");"center"==c&&(e=0,t.forEach(function(t){t=r.bitmapFont.chars[t];e+=u*parseInt(t.xadvance)}),i-=.5*e),"right"==c&&(t=t.reverse()),t.map(function(t){var e=r.bitmapFont.chars[t],t=u*parseInt(e.xadvance);n.drawImage(r.bitmapFont.bitmap,parseInt(e.x),parseInt(e.y),parseInt(e.width),parseInt(e.height),u*parseInt(e.xoffset)+("right"==c?-t:0)+i,u*parseInt(e.yoffset)+a,u*parseInt(e.width),u*parseInt(e.height)),i+=t*("right"==c?-1:1)})}}])&&dt(t.prototype,n),r&&dt(t,r),e}(),vt={info:{face:"Dusty Pro",size:"144",bold:"0",italic:"0",charset:"",unicode:"1",stretchH:"100",smooth:"1",aa:"1",padding:"0,0,0,0",spacing:"1,1",outline:"0"},common:{lineHeight:"144",base:"126",scaleW:"512",scaleH:"256",pages:"1",packed:"0",alphaChnl:"0",redChnl:"3",greenChnl:"3",blueChnl:"3"},pages:{page:{id:"0",file:"DustyPro.png"}},chars:{count:"11",char:[{id:"43",x:"429",y:"91",width:"56",height:"54",xoffset:"-1",yoffset:"54",xadvance:"72",page:"0",chnl:"15"},{id:"48",x:"0",y:"0",width:"92",height:"90",xoffset:"-1",yoffset:"36",xadvance:"108",page:"0",chnl:"15"},{id:"49",x:"372",y:"91",width:"56",height:"90",xoffset:"-1",yoffset:"36",xadvance:"72",page:"0",chnl:"15"},{id:"50",x:"93",y:"0",width:"92",height:"90",xoffset:"-1",yoffset:"36",xadvance:"108",page:"0",chnl:"15"},{id:"51",x:"186",y:"0",width:"92",height:"90",xoffset:"-1",yoffset:"36",xadvance:"108",page:"0",chnl:"15"},{id:"52",x:"279",y:"0",width:"92",height:"90",xoffset:"-1",yoffset:"36",xadvance:"108",page:"0",chnl:"15"},{id:"53",x:"372",y:"0",width:"92",height:"90",xoffset:"-1",yoffset:"36",xadvance:"108",page:"0",chnl:"15"},{id:"54",x:"0",y:"91",width:"92",height:"90",xoffset:"-1",yoffset:"36",xadvance:"108",page:"0",chnl:"15"},{id:"55",x:"93",y:"91",width:"92",height:"90",xoffset:"-1",yoffset:"36",xadvance:"108",page:"0",chnl:"15"},{id:"56",x:"186",y:"91",width:"92",height:"90",xoffset:"-1",yoffset:"36",xadvance:"108",page:"0",chnl:"15"},{id:"57",x:"279",y:"91",width:"92",height:"90",xoffset:"-1",yoffset:"36",xadvance:"108",page:"0",chnl:"15"}]}};function bt(t){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mt(t,e){return(mt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function St(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=wt(n);return t=r?(t=wt(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==bt(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function wt(t){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rt(t,e,n){return e&&Ot(t.prototype,e),n&&Ot(t,n),t}var Et=function(){function t(){xt(this,t),this.id=l.getUUID(),this.bitmapText=new gt(new e(s.assets.get("DustyPro"),vt)),this.fontSize=.075*s.screenWidth,this.x=.055*s.screenWidth,this.y=.165*s.screenWidth,this.bubbleScores=[],this.rendererManager=new Xe}return Rt(t,[{key:"update",value:function(){for(var t=this.bubbleScores.length-1;0<=t;t--){var e=this.bubbleScores[t];e.bubble.getY()>s.screenHeight-5*ct.size&&(this.bubbleScores.splice(t,1),s.currentScene===s.MainScene.toString()&&(this.rendererManager.setRenderer(e,"FadeOutUp"),s.score+=e.score))}}},{key:"render",value:function(t){this.bitmapText.draw(t,s.score,this.fontSize,this.x,this.y),this.rendererManager.render(t)}},{key:"addBubbleScore",value:function(t){this.bubbleScores.push(new Mt(t))}}],[{key:"getInstance",value:function(){return t.instance||(t.instance=new t),t.instance}}]),t}(),Mt=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mt(t,e)}(r,Et);var n=St(r);function r(t){var e;return xt(this,r),(e=n.call(this)).bubble=t,e.score=e.getScore(),e.fontSize=1.2*ct.size,e}return Rt(r,[{key:"getScore",value:function(){return s.level+1}},{key:"render",value:function(t){this.bitmapText.draw(t,"+".concat(this.score),this.fontSize,this.x,this.y,"center")}}]),r}();function jt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var It=function(){function e(){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.id=l.getUUID(),this.currHealth=this.maxHealth=5,this.rendererManager=new Xe,this.resetHealth()}var t,n,r;return t=e,r=[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}],(n=[{key:"render",value:function(t){this.rendererManager.render(t)}},{key:"resetHealth",value:function(){var e=this;this.sprites&&this.sprites.length&&this.sprites.forEach(function(t){e.rendererManager.remove(t)}),this.currHealth=this.currHealth||Math.ceil(Math.random()*this.maxHealth),this.sprites=new Array(this.currHealth).fill(null).map(function(t,e){return new ct(s.assets.get("gray-bubble"),ct.size+1.05*ct.size*e,ct.size)}),this.sprites.forEach(function(t){e.rendererManager.setRenderer(t,"Rotate")})}},{key:"loseHealth",value:function(){this.currHealth--,this.rendererManager.setRenderer(this.sprites.pop(),"FadeOut")}}])&&jt(t.prototype,n),r&&jt(t,r),e}();function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kt(t,e){return(kt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Pt(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=At(n);return t=r?(t=At(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==Tt(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function At(t){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Sn(6541);var Yt=function(){function c(){_t(this,c),this.id=l.getUUID(),this.spinner=Wt.getInstance(),this.health=It.getInstance(),this.rendererManager=new Xe,Xt.speed=.7*ct.size,this.minSpawns=2,this.maxSpawns=8,this.reset()}var t,e,n;return t=c,n=[{key:"getInstance",value:function(){return c.instance||(c.instance=new c),c.instance}}],(e=[{key:"reset",value:function(){this.spawnedBubbles=[],this.state=c.State.UNSPAWNED}},{key:"spawn",value:function(){for(var t=this.minSpawns+Math.round(Math.random()*(this.maxSpawns-this.minSpawns)),e=0,n=Math.random()*Math.PI*2,r=2*Math.PI/t;e<t;e++){var o=function(t){return t.sort(function(t,e){return t-e}),t[Math.floor(t.length/2)]},i=Math.cos(n+r*e)*s.screenHeight,a=Math.sin(n+r*e)*s.screenHeight,i=o([-ct.size,i,s.screenWidth+ct.size]),a=o([-ct.size,a,s.screenHeight+ct.size]);this.spawnedBubbles.push(new Xt(this.spinner.controller.randomBubbleAsset(),i,a))}this.state=c.State.SPAWNED}},{key:"aim",value:function(){var r=this,t=this.spinner.bubbles.slice();t.sort(function(t,e){function n(t){return Math.sqrt(Math.pow(t.getX()-r.spinner.pivot.getX(),2)+Math.pow(t.getY()-r.spinner.pivot.getY(),2))}return n(e)-n(t)});var n=t.slice(0,Math.ceil(Math.random()*this.spawnedBubbles.length/2));this.spawnedBubbles.forEach(function(t){var e=n[Math.floor(Math.random()*n.length)],e=Math.atan2(e.getY()-t.getY(),e.getX()-t.getX());t.speedX=Xt.speed*Math.cos(e),t.speedY=Xt.speed*Math.sin(e)}),this.state=c.State.AIMED,this.spawnedBubbles.forEach(function(t){r.rendererManager.setRenderer(t)})}},{key:"update",value:function(){var e=this;if(!this.health.currHealth&&this.spinner.state==Wt.State.STAND){if(this.state==c.State.UNSPAWNED)return this.spawn();this.state==c.State.SPAWNED&&this.aim(),this.spawnedBubbles.forEach(function(t){t.inactive||(t.setX(t.getX()+t.speedX),t.setY(t.getY()+t.speedY),e.spinner.collides(t)&&(e.rendererManager.remove(t),t.inactive=!0))}),this.spawnedBubbles.every(function(t){return t.inactive})&&(this.reset(),this.health.resetHealth())}}},{key:"render",value:function(t){this.rendererManager.render(t)}}])&&Ct(t.prototype,e),n&&Ct(t,n),c}();Dt(Yt,"State",(mn=ne=function t(){_t(this,t)},Dt(ne,"UNSPAWNED",1),Dt(ne,"SPAWNED",2),Dt(ne,"AIMED",3),mn));var Xt=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kt(t,e)}(o,ct);var r=Pt(o);function o(t,e,n){return _t(this,o),(n=r.call(this,t,e,n)).inactive=!1,n.speedX=n.speedY=0,n}return o}();function Ht(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Nt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,e=function(){};return{s:e,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function Nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ut(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wt=function(){function c(){zt(this,c),this.id=l.getUUID(),this.angularSpeedThreshold=.1,this.angleOfRotation=0,this.frictionOfRotation=0,this.state=c.State.ANIMATING,this.rendererManager=new Xe,this.controller=new pt(this),this.createPivot(),this.createBubbles()}var t,e,n;return t=c,n=[{key:"getInstance",value:function(){return c.instance||(c.instance=new c),c.instance}}],(e=[{key:"getX",value:function(){return this.pivot.x}},{key:"getY",value:function(){return this.pivot.y}},{key:"collides",value:function(t){var e=Ht(Array.from(this.bubbles).concat(this.pivot));try{for(e.s();!(n=e.n()).done;){var n=n.value;if(n.collides(t))return this.onCollision(n,t),!0}}catch(t){e.e(t)}finally{e.f()}return!1}},{key:"onCollision",value:function(t,n){var i=this,e=this.controller.getAdjacentHexes(t.hex).map(function(t){if(!t||t.obj)return null;var e=t,t=i.controller.hexToCoordinates(t);return{hex:e,coor:t,sortCrit:Math.pow(n.getX()-t.x,2)+Math.pow(n.getY()-t.y,2)}}).filter(function(t){return!!t});if(e.sort(function(t,e){return t.sortCrit-e.sortCrit}),e.length){var r=e[0],o=new ct(n.texture.img,r.coor.x,r.coor.y);if(r.hex.setObj(o),this.bubbles.push(o),this.rendererManager.setRenderer(o),!(n instanceof Xt)){var a=function(e){for(var n=[],r=[],o=[[e]];o.push([]),o[o.length-2].forEach(function(t){i.controller.getAdjacentHexes(t.hex).forEach(function(t){t=t.obj;t&&!r.includes(t)&&(r.push(t),t.texture.img==e.texture.img&&(n.push(t),o[o.length-1].push(t)))})}),o[o.length-1].length;);return n}(o);if(3<=a.length?function(){for(var e=[],n=[],r=[[i.pivot]];r.push([]),r[r.length-2].forEach(function(t){i.controller.getAdjacentHexes(t.hex).forEach(function(t){t=t.obj;!t||n.includes(t)||a.includes(t)||(n.push(t),r[r.length-1].push(t))})}),r[r.length-1].length;);return i.bubbles.forEach(function(t){n.includes(t)||e.push(t)}),e}().forEach(function(t){var e=i.bubbles.indexOf(t);t.hex.unsetObj(),i.bubbles.splice(e,1),i.rendererManager.remove(t),s.MainScene.rendererManager.setRenderer(t,"CollisionAndGravity",n),Et.getInstance().addBubbleScore(t)}):It.getInstance().loseHealth(),!this.bubbles.length)return s.level++,void this.reload();this.state=c.State.ROTATING;t=n.speedY/n.speedX,e=o.getY()-t*o.getX(),r=-t,o=-e,r=Math.abs(r*this.pivot.getX()+ +this.pivot.getY()+o)/Math.sqrt(Math.pow(r,2)+Math.pow(1,2))/s.screenWidth,r=n.speed*r;(n.speedX<0&&t*this.pivot.getX()+e>this.pivot.getY()||0<n.speedX&&t*this.pivot.getX()+e<this.pivot.getY())&&(r*=-1),this.angularSpeed=r/this.bubbles.length,this.angularSpeed=Math.sign(this.angularSpeed)*Math.min(Math.abs(this.angularSpeed),this.angularSpeedThreshold),Math.sign(this.angularSpeed)==Math.sign(this.frictionOfRotation)&&(this.frictionOfRotation*=-1)}}}},{key:"reload",value:function(){s.MainScene.rendererManager.setRenderer(this,"RotateOut"),this.state=c.State.ANIMATING}},{key:"update",value:function(){var o=this;if(this.state==c.State.ANIMATING&&(this.rotatedIn&&(this.rotatedIn=!1,s.MainScene.rendererManager.setRenderer(this),this.state=c.State.STAND),this.rotatedOut&&(this.rotatedOut=!1,this.bubbles.forEach(function(t){t.hex.unsetObj(),o.rendererManager.remove(t)}),this.createBubbles(),s.MainScene.rendererManager.setRenderer(this,"RotateIn"))),this.state==c.State.ROTATING){if(this.angularSpeed+=this.frictionOfRotation,Math.sign(this.angularSpeed)==Math.sign(this.frictionOfRotation))return this.state=c.State.STAND;this.bubbles.forEach(function(t){var e=t.getY()-o.pivot.getY(),n=t.getX()-o.pivot.getX(),r=Math.sqrt(Math.pow(n,2)+Math.pow(e,2)),n=Math.atan2(e,n)-o.angularSpeed;t.setX(o.pivot.getX()+Math.cos(n)*r),t.setY(o.pivot.getY()+Math.sin(n)*r)}),this.angleOfRotation+=this.angularSpeed,this.bubbles.some(function(t){return t.endX>=s.screenWidth||t.endY>=s.screenHeight||t.startX<=0||t.startY<=0})&&(this.state=c.State.CRASH,s.openDataContext.postMessage({action:"GameEnded",currentScore:s.score}),s.lastScene=s.currentScene,s.currentScene=s.GameEnded.toString())}}},{key:"render",value:function(t){this.rendererManager.render(t)}},{key:"createPivot",value:function(){this.pivot=this.controller.createPivot(),this.rendererManager.setRenderer(this.pivot)}},{key:"createBubbles",value:function(){var e=this;this.bubbles=this.controller.createBubbles(),this.bubbles.forEach(function(t){e.rendererManager.setRenderer(t)})}}])&&Bt(t.prototype,e),n&&Bt(t,n),c}();function Lt(t){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gt(t,e){return(Gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ft(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=qt(n);return t=r?(t=qt(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==Lt(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function qt(t){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $t(t){return function(t){if(Array.isArray(t))return Kt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Kt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qt(t,e,n){return e&&Zt(t.prototype,e),n&&Zt(t,n),t}Ut(Wt,"State",(mn=ne=function t(){zt(this,t)},Ut(ne,"ANIMATING",1),Ut(ne,"STAND",2),Ut(ne,"ROTATING",3),Ut(ne,"CRASH",4),mn));var Jt=function(){function e(t){Vt(this,e),this.shooter=t,this.spinner=Wt.getInstance(),s.bottomBound=s.screenHeight-ct.size,this.shootingSpeed=.75*ct.size,this.spinner.frictionOfRotation=1e-4*this.shootingSpeed}return Qt(e,[{key:"createCurrShot",value:function(){return new te((this.shooter.nextShot||this.createNextShot()).texture.img,this.shootingSpeed)}},{key:"createNextShot",value:function(){var e=this,t=this.spinner.controller.getBubbleAssets(),n=$t(this.spinner.bubbles.map(function(t){return t.texture.img}).concat(t).filter(function(t){return e.spinner.controller.getBubbleAssets().includes(t)}).reduce(function(t,e){return t.set(e,(t.get(e)||0)+1)},new Map)).reduce(function(t,e){return e[1]<t[1]?e:t})[0],r=t.concat(new Array(t.length).fill(n)),r=r[Math.floor(Math.random()*r.length)];return r==n&&this.shooter.currShot&&r==this.shooter.currShot.texture.img&&(r=t[Math.floor(Math.random()*t.length)]),new y(r,.5*s.screenWidth,s.screenHeight-.5*ct.size,.5*ct.size,.5*ct.size)}},{key:"permit",value:function(){return It.getInstance().currHealth&&(this.spinner.state==Wt.State.STAND||this.spinner.state==Wt.State.ROTATING)}}]),e}(),te=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gt(t,e)}(r,ct);var n=Ft(r);function r(t,e){return Vt(this,r),(t=n.call(this,t,.5*s.screenWidth,s.bottomBound)).speed=e,t}return Qt(r,[{key:"collideXBounds",value:function(){return 0<this.speedX&&this.getX()+ct.size/2>=s.screenWidth||this.speedX<0&&this.getX()-ct.size/2<=0}},{key:"collideYBounds",value:function(){return 0<this.speedY&&this.getY()>=s.bottomBound||this.speedY<0&&this.getY()-ct.size/2<=0}},{key:"update",value:function(){this.setX(this.getX()+this.speedX),this.setY(this.getY()+this.speedY),this.setY(Math.min(this.getY(),s.bottomBound))}}]),r}();function ee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ne,re=function(){function e(){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}var t,n,r;return t=e,(n=[{key:"onTouchStart",value:function(t){this.tsHandler=t,wx.onTouchStart(this.tshandler)}},{key:"onTouchMove",value:function(t){this.tmHandler=t,wx.onTouchMove(this.tmHandler)}},{key:"onTouchEnd",value:function(t){this.teHandler=t,wx.onTouchEnd(this.teHandler)}},{key:"destroy",value:function(){this.tsHandler&&wx.offTouchStart(this.tsHandler),this.tmHandler&&wx.offTouchMove(this.tmHandler),this.teHandler&&wx.offTouchEnd(this.teHandler)}}])&&ee(t.prototype,n),r&&ee(t,r),e}();function oe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ae(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ce=function(){function n(){var e=this;oe(this,n),this.id=l.getUUID(),this.controller=new Jt(this),this.maxBounces=8,this.touchHandler=new re,wx.onTouchStart(function(t){s.currentScene==s.MainScene.toString()&&e.state==n.State.LOADED&&e.controller.permit()&&(e.state=n.State.AIMING,e.touchX=t.touches[0].clientX,e.touchY=t.touches[0].clientY)}),this.touchHandler.onTouchMove(function(t){e.state==n.State.AIMING&&(e.touchX=t.touches[0].clientX,e.touchY=t.touches[0].clientY)}),this.touchHandler.onTouchEnd(function(){var t;e.state==n.State.AIMING&&(e.state=n.State.SHOOTING,t=Math.atan2(e.touchY-e.currShot.getY(),e.touchX-e.currShot.getX()),e.currShot.speedX=e.currShot.speed*Math.cos(t),e.currShot.speedY=e.currShot.speed*Math.sin(t))}),this.rendererManager=new Xe,this.rendererManager.setRenderer(this,"Trace"),this.reload()}var t,e,r;return t=n,r=[{key:"getInstance",value:function(){return n.instance||(n.instance=new n),n.instance}}],(e=[{key:"reload",value:function(){return this.currShot&&this.rendererManager.remove(this.currShot),this.nextShot&&this.rendererManager.remove(this.nextShot),this.currShot=this.controller.createCurrShot(),this.nextShot=this.controller.createNextShot(),this.rendererManager.setRenderer(this.nextShot,"ZoomIn"),this.rendererManager.setRenderer(this.currShot,"ZoomInUp"),this.curbounces=0,this.state=n.State.LOADING}},{key:"update",value:function(){return this.state==n.State.LOADING&&this.currShot.zoomedInUp||this.state==n.State.RESTORING&&this.currShot.landed?this.state=n.State.LOADED:this.state==n.State.SHOOTING?this.controller.spinner.collides(this.currShot)?this.reload():((this.currShot.collideXBounds()?(this.currShot.speedX*=-1,1):this.currShot.collideYBounds()&&(this.currShot.speedY*=-1,1))&&this.curbounces++,this.curbounces>=this.maxBounces&&this.currShot.speedY<0?(this.rendererManager.setRenderer(this.currShot,"GravityAndBounce"),this.curbounces=0,this.state=n.State.RESTORING):void this.currShot.update()):void 0}},{key:"render",value:function(t){this.rendererManager.render(t)}}])&&ie(t.prototype,e),r&&ie(t,r),n}();function ue(t){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function se(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fe(t,e){return(fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function le(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=he(n);return t=r?(t=he(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==ue(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function he(t){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}ae(ce,"State",(mn=ne=function t(){oe(this,t)},ae(ne,"LOADING",1),ae(ne,"LOADED",2),ae(ne,"AIMING",3),ae(ne,"SHOOTING",4),ae(ne,"RESTORING",5),mn));var pe=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fe(t,e)}(o,g);var t,e,n,r=le(o);function o(t){return function(t){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(t=r.call(this,t)).canvas=wx.createCanvas(),t.canvas.width=canvas.width,t.canvas.height=canvas.height,t.ctx=t.canvas.getContext("2d"),t.ctx.scale(s.pixelRatio,s.pixelRatio),t.ctx.lineWidth=ct.size,t.ctx.lineCap="round",t}return t=o,(e=[{key:"render",value:function(t){this.target.state==ce.State.AIMING&&(this.ctx.beginPath(),this.ctx.moveTo(.5*s.screenWidth,s.bottomBound),this.ctx.lineTo(this.target.touchX,this.target.touchY),this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalCompositeOperation="source-in",this.ctx.fillStyle="rgba(0, 128, 0, 0.2)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.globalCompositeOperation="source-over",t.drawImage(this.canvas,0,0,s.screenWidth,s.screenHeight),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height))}}])&&se(t.prototype,e),n&&se(t,n),o}();function ye(t){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function de(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ge(t,e,n){return(ge="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=me(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function ve(t,e){return(ve=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function be(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=me(n);return t=r?(t=me(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==ye(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function me(t){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Se=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ve(t,e)}(o,g);var t,e,n,r=be(o);function o(t){return function(t){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(t=r.call(this,t)).target.speedX=2.5*(0<t.speedX?1:-1),t.target.landed=!1,t}return t=o,(e=[{key:"render",value:function(t){if(this.target.landed)return ge(me(o.prototype),"render",this).call(this,t);this.target.collideXBounds()&&(this.target.speedX*=-1),this.target.collideYBounds()&&(this.target.speedY*=-1,this.target.speedY*=.7),this.target.speedY+=1,this.target.speedX*=.998,this.target.update(),Math.abs(this.target.getX()-s.screenWidth/2)<1&&Math.abs(this.target.getY()-s.bottomBound)<.001&&(this.target.setX(s.screenWidth/2),this.target.setY(s.bottomBound),this.target.landed=!0),ge(me(o.prototype),"render",this).call(this,t)}}])&&de(t.prototype,e),n&&de(t,n),o}();function we(t){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Oe(t,e,n){return(Oe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Me(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function Re(t,e){return(Re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ee(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=Me(n);return t=r?(t=Me(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==we(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function Me(t){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var je=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Re(t,e)}(i,g);var t,e,n,o=Ee(i);function i(t,e){var n;!function(t){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this),n=o.call(this,t);var r=Math.atan2(e.speedY,e.speedX),t=Math.atan2(n.target.getY()-e.getY(),n.target.getX()-e.getX()),r=r-t,r=e.speed*Math.cos(r)/2;return n.target.speedX=r*Math.cos(t),n.target.speedY=r*Math.sin(t),n}return t=i,(e=[{key:"render",value:function(t){if(this.target.getX()<=-ct.size||this.target.getX()>=s.screenWidth+ct.size||this.target.getY()>=s.screenHeight+ct.size)return this.outOfSight=!0;this.target.speedX*=.998,this.target.speedY+=.98,this.target.setY(this.target.getY()+this.target.speedY),this.target.setX(this.target.getX()+this.target.speedX),Oe(Me(i.prototype),"render",this).call(this,t)}}])&&xe(t.prototype,e),n&&xe(t,n),i}();function Ie(t){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Te(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ke(t,e){return(ke=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Pe(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=Ae(n);return t=r?(t=Ae(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==Ie(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function Ae(t){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _e=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ke(t,e)}(o,g);var t,e,n,r=Pe(o);function o(t){var e;return function(t){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(e=r.call(this,t)).target.x=((t=[ct.size,e.target.bubble.getX(),s.screenWidth-ct.size]).sort(function(t,e){return t-e}),t[1]),e.target.y=e.y=e.target.bubble.getY(),e.factor=0,e.step=.035,e}return t=o,(e=[{key:"render",value:function(t){if(this.factor>=Math.PI/2)return this.outOfSight=!0;t.save(),t.globalAlpha=1-Math.sin(this.factor),this.target.y=this.y-30*Math.sin(this.factor),this.target.render(t),t.restore(),this.factor+=this.step}}])&&Te(t.prototype,e),n&&Te(t,n),o}();function Ce(t,e,n){return(Ce=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);r=new(Function.bind.apply(t,r));return n&&De(r,n.prototype),r}).apply(null,arguments)}function De(t,e){return(De=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Xe=function(){function e(){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.targets=[],this.renderers={}}var t,n,r;return t=e,(n=[{key:"setRenderer",value:function(t){for(var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length,r=new Array(2<n?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];e="Rotate"===e?new O(t):"RotateOut"===e?new k(t):"RotateIn"===e?new X(t):"FadeOut"===e?new L(t):"ZoomIn"===e?new Z(t):"ZoomInUp"===e?new ot(t):"Trace"===e?new pe(t):"GravityAndBounce"===e?new Se(t):"CollisionAndGravity"===e?Ce(je,[t].concat(r)):new("FadeOutUp"===e?_e:g)(t);this.renderers[t.id]=e,this.targets.includes(t.id)||this.targets.unshift(t.id)}},{key:"remove",value:function(e){this.targets.splice(this.targets.findIndex(function(t){return t===e.id}),1),this.renderers[e.id]=null}},{key:"render",value:function(t){for(var e=this.targets.length-1;0<=e;e--){var n=this.renderers[this.targets[e]];n.outOfSight?this.remove(n.target):n.render(t)}}}])&&Ye(t.prototype,n),r&&Ye(t,r),e}();function He(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ne=function(){function e(){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.ctx=s.ctx}var t,n,r;return t=e,(n=[{key:"update",value:function(){}},{key:"render",value:function(){this.ctx.clearRect(0,0,s.screenWidth,s.screenHeight),this.ctx.fillRect(0,0,s.screenWidth,s.screenHeight)}}])&&He(t.prototype,n),r&&He(t,r),e}();function ze(t){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Be(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ue(t,e,n){return(Ue="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ge(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function We(t,e){return(We=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Le(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=Ge(n);return t=r?(t=Ge(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==ze(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function Ge(t){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Fe=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&We(t,e)}(a,Ne);var t,e,n,i=Le(a);function a(){var e;!function(t){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this),e=i.call(this),s.currentScene=e.toString(),e.branding=new y(s.assets.get("branding"),.5*s.screenWidth,.2*s.screenHeight,.6*s.screenWidth),e.logo=new y(s.assets.get("logo"),.5*s.screenWidth,.5*s.screenHeight,.175*s.screenWidth);var r=.15*s.screenWidth,o=2*r;e.navLogos=[{logo:"whirlychicken-logo",appId:"wxbbe6dad294fc15cc"}].map(function(t,e,n){return t.logo=new y(s.assets.get(t.logo),.75*r,.5*s.screenHeight+(e-n.length/2+.5)*o,r),t});var t=wx.createCanvas(),n=t.getContext("2d");return n.fillStyle="rgba(117, 119, 126, 0.8)",n.fillRect(0,0,t.width,t.height),e.mask=new y(t,.5*s.screenWidth,.5*s.screenHeight,s.screenWidth,s.screenHeight),e.startBtn=new y(s.assets.get("start-btn"),.5*s.screenWidth,.8*s.screenHeight,.45*s.screenWidth),e.rankBtn=new y(s.assets.get("rank-btn"),.5*s.screenWidth,.92*s.screenHeight,.08*s.screenWidth),e.touchHandler=new re,e.touchHandler.onTouchEnd(function(n){s.currentScene===e.toString()&&(e.navLogos.forEach(function(t){var e=t.logo,t=t.appId;e.isTouched(n)&&wx.navigateToMiniProgram({appId:t,fail:function(){},cancel:function(){}})}),e.startBtn.isTouched(n)&&(e.touchHandler.destroy(),e.navLogos.forEach(function(t){t=t.logo;return e.rendererManager.remove(t)}),e.rendererManager.remove(e.branding),e.rendererManager.remove(e.startBtn),e.rendererManager.remove(e.rankBtn),e.rendererManager.setRenderer(e.logo,"RotateOut"),e.rendererManager.setRenderer(e.mask,"FadeOut"),s.lastScene=e.toString(),s.currentScene=s.MainScene.toString()),e.rankBtn.isTouched(n)&&(s.openDataContext.postMessage({action:"RankScene"}),s.lastScene=e.toString(),s.currentScene=s.RankScene.toString()))}),e.rendererManager=new Xe,e.rendererManager.setRenderer(e.logo,"Rotate"),e.rendererManager.setRenderer(e.mask),e.rendererManager.setRenderer(e.branding),e.navLogos.forEach(function(t){t=t.logo;return e.rendererManager.setRenderer(t)}),e.rendererManager.setRenderer(e.startBtn),e.rendererManager.setRenderer(e.rankBtn),e}return t=a,n=[{key:"getInstance",value:function(){return a.instance||(a.instance=new a),a.instance}}],(e=[{key:"render",value:function(){if(Ue(Ge(a.prototype),"render",this).call(this),s.currentScene===s.RankScene.toString())return s.RankScene.render();this.rendererManager.render(this.ctx),this.mask.fadedOut&&this.logo.rotatedOut&&(cancelAnimationFrame(this.frameID),s.MainScene.run())}},{key:"run",value:function(){this.frameID=requestAnimationFrame(this.run.bind(this)),this.update(),this.render()}},{key:"toString",value:function(){return"MainMenu"}}])&&Be(t.prototype,e),n&&Be(t,n),a}();function qe(t){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ke(t,e,n){return(Ke="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){t=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qe(t)););return t}(t,e);if(t){e=Object.getOwnPropertyDescriptor(t,e);return e.get?e.get.call(n):e.value}})(t,e,n||t)}function Ve(t,e){return(Ve=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ze(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=Qe(n);return t=r?(t=Qe(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==qe(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function Qe(t){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Je=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ve(t,e)}(o,Ne);var t,e,n,r=Ze(o);function o(){var t;return function(t){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),(t=r.call(this)).spinner=Wt.getInstance(),t.shooter=ce.getInstance(),t.health=It.getInstance(),t.score=Et.getInstance(),t.npc=Yt.getInstance(),t.rendererManager=new Xe,t.rendererManager.setRenderer(t.spinner,"RotateIn"),t.rendererManager.setRenderer(t.shooter),t.rendererManager.setRenderer(t.health),t.rendererManager.setRenderer(t.score),t.rendererManager.setRenderer(t.npc),t}return t=o,n=[{key:"getInstance",value:function(){return o.instance||(o.instance=new o),o.instance}}],(e=[{key:"update",value:function(){this.shooter.update(),this.spinner.update(),this.score.update(),this.npc.update()}},{key:"render",value:function(){Ke(Qe(o.prototype),"render",this).call(this),this.rendererManager.render(this.ctx),s.currentScene==s.GameEnded.toString()&&(s.AdController.showInterstitialAdOnce(),s.GameEnded.render()),s.currentScene==s.RankScene.toString()&&s.RankScene.render()}},{key:"restart",value:function(){s.score=0,s.level=0,this.health.resetHealth(),this.spinner.reload(),this.shooter.reload()}},{key:"run",value:function(){this.frameID=requestAnimationFrame(this.run.bind(this)),this.update(),this.render()}},{key:"toString",value:function(){return"MainScene"}}])&&$e(t.prototype,e),n&&$e(t,n),o}();function tn(t){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function en(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nn(t,e){return(nn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rn(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=on(n);return t=r?(t=on(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==tn(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function on(t){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var an=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nn(t,e)}(o,Ne);var t,e,n,r=rn(o);function o(){var e;!function(t){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),e=r.call(this);var t=wx.createCanvas(),n=t.getContext("2d");return n.fillStyle="rgba(30, 30, 30, 0.9)",n.fillRect(0,0,t.width,t.height),e.mask=new y(t,.5*s.screenWidth,.5*s.screenHeight,s.screenWidth,s.screenHeight),e.returnBtn=new y(s.assets.get("return-btn"),.12*s.screenWidth,.9*s.screenHeight,.06*s.screenWidth),e.groupRankBtn=new y(s.assets.get("group-rank-btn"),.75*s.screenWidth,.9*s.screenHeight,.3*s.screenWidth),e.touchHandler=new re,e.touchHandler.onTouchEnd(function(t){s.currentScene===e.toString()&&(e.groupRankBtn.isTouched(t)&&wx.shareAppMessage({title:"查看群排行",imageUrl:s.assets.get("share-img").src}),e.returnBtn.isTouched(t)&&(s.currentScene=s.lastScene,s.lastScene=e.toString(),s.openDataContext.postMessage({action:s.currentScene,lastScene:s.lastScene})))}),e.rendererManager=new Xe,e.rendererManager.setRenderer(e.mask),e.rendererManager.setRenderer(e.returnBtn),e.rendererManager.setRenderer(e.groupRankBtn),e.rendererManager.setRenderer(s.sharedCanvas),e}return t=o,n=[{key:"getInstance",value:function(){return o.instance||(o.instance=new o),o.instance}}],(e=[{key:"render",value:function(){this.rendererManager.render(this.ctx)}},{key:"toString",value:function(){return"RankScene"}}])&&en(t.prototype,e),n&&en(t,n),o}();function cn(t){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function un(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sn(t,e){return(sn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fn(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=ln(n);return t=r?(t=ln(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),e=this,!(t=t)||"object"!==cn(t)&&"function"!=typeof t?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}}function ln(t){return(ln=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var hn=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sn(t,e)}(o,Ne);var t,e,n,r=fn(o);function o(){var e;!function(t){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this),e=r.call(this);var t=wx.createCanvas(),n=t.getContext("2d");n.fillStyle="rgba(30, 30, 30, 0.9)",n.fillRect(0,0,t.width,t.height),e.mask=new y(t,.5*s.screenWidth,.5*s.screenHeight,s.screenWidth,s.screenHeight),e.restartBtn=new y(s.assets.get("restart-btn"),.5*s.screenWidth,.75*s.screenHeight,.45*s.screenWidth);n=wx.createCanvas(),t=n.getContext("2d");return t.fillStyle="rgba(0, 0, 0, 0.5)",t.fillRect(0,0,n.width,n.height),e.leaderboardThumbnailBackground=new y(n,.5*s.screenWidth,.43*s.screenHeight,.85*s.screenWidth,.26*s.screenHeight),e.touchHandler=new re,e.touchHandler.onTouchEnd(function(t){s.currentScene===e.toString()&&(e.leaderboardThumbnailBackground.isTouched(t)&&(s.openDataContext.postMessage({action:"RankScene"}),s.lastScene=s.currentScene,s.currentScene=s.RankScene.toString()),e.restartBtn.isTouched(t)&&(s.AdController.resetInterstitialAdShownOnce(),s.openDataContext.postMessage({action:"Restart"}),s.currentScene=s.MainScene.toString(),s.lastScene=e.toString(),s.MainScene.restart()))}),e.rendererManager=new Xe,e.rendererManager.setRenderer(e.mask),e.rendererManager.setRenderer(e.restartBtn),e.rendererManager.setRenderer(e.leaderboardThumbnailBackground),e.rendererManager.setRenderer(s.sharedCanvas),e}return t=o,n=[{key:"getInstance",value:function(){return o.instance||(o.instance=new o),o.instance}}],(e=[{key:"render",value:function(){this.rendererManager.render(this.ctx)}},{key:"toString",value:function(){return"GameEnded"}}])&&un(t.prototype,e),n&&un(t,n),o}();function pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var yn=function(){function e(){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.SDKVersion=wx.getSystemInfoSync().SDKVersion}var t,n,r;return t=e,r=[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}],(n=[{key:"checkSDKVersion",value:function(t){var e=(e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.SDKVersion).split(".");t=t.split(".");for(var n=Math.max(e.length,t.length);e.length<n;)e.push("0");for(;t.length<n;)t.push("0");for(var r=0;r<n;r++){var o=parseInt(e[r]),i=parseInt(t[r]);if(i<o)return 1;if(o<i)return-1}return 0}}])&&pn(t.prototype,n),r&&pn(t,r),e}(),dn="adunit-05504e088717e5b8";function gn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var vn=function(){function e(){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.interstitialAd=null,this.interstitialAdShownOnce=!1,0<=yn.getInstance().checkSDKVersion("2.6.0")&&wx.createInterstitialAd&&(this.interstitialAd=wx.createInterstitialAd({adUnitId:dn}))}var t,n,r;return t=e,r=[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}],(n=[{key:"showInterstitialAdOnce",value:function(){!this.interstitialAdShownOnce&&this.interstitialAd&&(this.interstitialAd.show().catch(function(t){console.error(t)}),this.interstitialAdShownOnce=!0)}},{key:"resetInterstitialAdShownOnce",value:function(){this.interstitialAdShownOnce=!1}}])&&gn(t.prototype,n),r&&gn(t,r),e}();function bn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var mn=function(){function n(){var e=this;!function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this),a.getInstance().onLoaded(function(t){return e.onAssetsLoaded(t)})}var t,e,r;return t=n,(e=[{key:"onAssetsLoaded",value:function(t){s.assets=t;var e=wx.getSystemInfoSync(),n=e.screenWidth,r=e.screenHeight,t=e.pixelRatio;canvas.width=n*t,canvas.height=r*t,s.screenWidth=n,s.screenHeight=r,s.pixelRatio=t,s.ctx=canvas.getContext("2d"),s.ctx.fillStyle="#ffffff",s.ctx.scale(t,t);e=wx.getOpenDataContext(),t=e.canvas;t.width=canvas.width,t.height=canvas.height,s.sharedCanvas=new y(t,.5*n,.5*r,n,r),s.openDataContext=e,s.openDataContext.postMessage({action:"LoadAssets"}),s.fps=60,wx.setPreferredFramesPerSecond(s.fps),s.score=0,s.level=0,s.MainMenu=Fe.getInstance(),s.MainScene=Je.getInstance(),s.RankScene=an.getInstance(),s.GameEnded=hn.getInstance(),s.AdController=vn.getInstance(),s.MainMenu.run()}}])&&bn(t.prototype,e),r&&bn(t,r),n}();wx.showShareMenu({withShareTicket:!0}),wx.onShareAppMessage(function(){return{title:"即刻畅玩，战豆到底！",imageUrl:s.assets.get("share-img").src}}),wx.onShow(function(t){t=t.shareTicket;t&&(s.openDataContext.postMessage({action:"RankScene",shareTicket:t}),s.currentScene!=s.RankScene.toString()&&(s.lastScene=s.currentScene),s.currentScene=s.RankScene.toString())}),new mn}()}();