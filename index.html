<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Bubble Spinner</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
    </style>
</head>

<body>
    <div id="bubbleSpinnerContainer" style="overflow: hidden;">
        <canvas id="myCanvas" style="border: 1px solid #e5e5e5; max-width: 100%; max-height: 100%;"></canvas>
    </div>

    <script src="./phantom-limb.js"></script>
    <script>
        var container = document.getElementById("bubbleSpinnerContainer");
        var screenWidth, screenHeight;
        var aspectRatio = 568 / 320;
        if (window.innerHeight / window.innerWidth > aspectRatio) {
            screenWidth = window.innerWidth;
            screenHeight = screenWidth * aspectRatio;
        } else {
            screenHeight = window.innerHeight;
            screenWidth = screenHeight / aspectRatio;
        }

        window.onresize = function () {
            container.style.width = window.innerWidth + "px";
            container.style.height = window.innerHeight + "px";
        };
        window.onresize();

        var GameGlobal = {};
        var canvas = document.getElementById("myCanvas");
        var sharedCanvas = document.createElement('canvas');
        var wx = {
            createCanvas: function () {
                var canvas = document.createElement('canvas');
                // container.appendChild(canvas);
                return canvas;
            },
            createImage: function () {
                var img = document.createElement("IMG");
                return img;
            },
            getSystemInfoSync: function () {
                return {
                    pixelRatio: window.devicePixelRatio,
                    screenWidth: screenWidth,
                    screenHeight: screenHeight,
                    SDKVersion: "0.0.1"
                }
            },
            getOpenDataContext: function () {
                return {
                    postMessage: function () { },
                    canvas: sharedCanvas,
                }
            },
            onTouchStart: function (cb) {
                canvas.addEventListener("touchstart", cb);
            },
            onTouchCancel: function (cb) {
                canvas.addEventListener("touchcancel", cb);
            },
            onTouchMove: function (cb) {
                canvas.addEventListener("touchmove", cb);
            },
            onTouchEnd: function (cb) {
                canvas.addEventListener("touchend", cb);
            },
            offTouchEnd: function (cb) {
                canvas.removeEventListener("touchend", cb);
            },
            setPreferredFramesPerSecond: function () { },
            showShareMenu: function () { },
            onShareAppMessage: function () { },
            onShow: function () { },
        }

    </script>
    <script src="./dist/bubble-spinner.min.js"></script>
</body>

</html>